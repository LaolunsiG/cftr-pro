const _0x50ca29=_0xdc32;(function(_0x3b3251,_0x2a486c){const _0x3e3cc1=_0xdc32,_0xa05f2b=_0x3b3251();while(!![]){try{const _0x500913=-parseInt(_0x3e3cc1(0x17d))/0x1*(parseInt(_0x3e3cc1(0x177))/0x2)+parseInt(_0x3e3cc1(0x212))/0x3+-parseInt(_0x3e3cc1(0x262))/0x4+-parseInt(_0x3e3cc1(0x221))/0x5+-parseInt(_0x3e3cc1(0x1eb))/0x6+parseInt(_0x3e3cc1(0x1a7))/0x7*(-parseInt(_0x3e3cc1(0x300))/0x8)+parseInt(_0x3e3cc1(0x2d7))/0x9;if(_0x500913===_0x2a486c)break;else _0xa05f2b['push'](_0xa05f2b['shift']());}catch(_0x1c9bf5){_0xa05f2b['push'](_0xa05f2b['shift']());}}}(_0xd3d0,0xf25c9));import{connect}from'cloudflare:sockets';let password='',proxyIP='',DNS64Server='',subConverter=atob(_0x50ca29(0x220)),subConfig=atob(_0x50ca29(0x162)),subProtocol='https',subEmoji='true',socks5Address='',parsedSocks5Address={},enableSocks=![],enableHttp=![];const expire=0xf4849500;let proxyIPs,socks5s,go2Socks5s=[_0x50ca29(0x22b),_0x50ca29(0x186),'*cloudatacdn.com',_0x50ca29(0x142)],addresses=[],addressesapi=[],addressescsv=[],DLS=0x8,remarkIndex=0x1,FileName=_0x50ca29(0x26f),BotToken='',ChatID='',proxyhosts=[],proxyhostsURL='',RproxyIP='false',httpsPorts=['2053',_0x50ca29(0x180),_0x50ca29(0x303),_0x50ca29(0x307),_0x50ca29(0x31c)],sha224Password;const regex=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;let proxyIPPool=[],path='/?ed=2560',link=[],banHosts=[atob(_0x50ca29(0x179))],SCV=_0x50ca29(0x19d),allowInsecure=_0x50ca29(0x2c6);export default{async 'fetch'(_0x4f30e6,_0x1ba1ec,_0x294eb6){const _0x5d679d=_0x50ca29;try{const _0x249893=_0x4f30e6['headers']['get']('User-Agent')||'null',_0x48137b=_0x249893[_0x5d679d(0x195)]();password=_0x1ba1ec['PASSWORD']||_0x1ba1ec['pswd']||_0x1ba1ec[_0x5d679d(0x2f4)]||_0x1ba1ec[_0x5d679d(0x208)]||_0x1ba1ec[_0x5d679d(0x23e)]||password;if(!password)return new Response(_0x5d679d(0x1fa),{'status':0x194,'headers':{'Content-Type':_0x5d679d(0x1f6)}});sha224Password=_0x1ba1ec[_0x5d679d(0x272)]||_0x1ba1ec[_0x5d679d(0x15b)]||sha224(password);const _0x46dc01=new Date();_0x46dc01[_0x5d679d(0x163)](0x0,0x0,0x0,0x0);const _0x4082d=Math[_0x5d679d(0x151)](_0x46dc01['getTime']()/0x3e8),_0x25ef57=await MD5MD5(''+password+_0x4082d),_0x2c947a=[_0x25ef57['slice'](0x0,0x8),_0x25ef57[_0x5d679d(0x290)](0x8,0xc),_0x25ef57[_0x5d679d(0x290)](0xc,0x10),_0x25ef57['slice'](0x10,0x14),_0x25ef57[_0x5d679d(0x290)](0x14)][_0x5d679d(0x164)]('-'),_0x11198a=_0x25ef57['slice'](0x6,0x9)+'.'+_0x25ef57[_0x5d679d(0x290)](0xd,0x13);proxyIP=_0x1ba1ec[_0x5d679d(0x2aa)]||_0x1ba1ec['proxyip']||proxyIP,proxyIPs=await ADD(proxyIP),proxyIP=proxyIPs[Math[_0x5d679d(0x22a)](Math[_0x5d679d(0x281)]()*proxyIPs['length'])],DNS64Server=_0x1ba1ec[_0x5d679d(0x2fd)]||_0x1ba1ec[_0x5d679d(0x25e)]||DNS64Server,socks5Address=_0x1ba1ec[_0x5d679d(0x301)]||_0x1ba1ec[_0x5d679d(0x2e2)]||socks5Address,socks5s=await ADD(socks5Address),socks5Address=socks5s[Math[_0x5d679d(0x22a)](Math[_0x5d679d(0x281)]()*socks5s['length'])],enableHttp=_0x1ba1ec[_0x5d679d(0x301)]?!![]:socks5Address[_0x5d679d(0x195)]()[_0x5d679d(0x175)](_0x5d679d(0x2b6)),socks5Address=socks5Address['split']('//')[0x1]||socks5Address;if(_0x1ba1ec[_0x5d679d(0x1bf)])go2Socks5s=await ADD(_0x1ba1ec[_0x5d679d(0x1bf)]);if(_0x1ba1ec['CFPORTS'])httpsPorts=await ADD(_0x1ba1ec['CFPORTS']);if(_0x1ba1ec[_0x5d679d(0x140)])banHosts=await ADD(_0x1ba1ec[_0x5d679d(0x140)]);if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),RproxyIP=_0x1ba1ec['RPROXYIP']||'false',enableSocks=!![];}catch(_0x298b5e){let _0x47cbd1=_0x298b5e;console[_0x5d679d(0x276)](_0x47cbd1[_0x5d679d(0x2df)]()),RproxyIP=_0x1ba1ec[_0x5d679d(0x1c5)]||!proxyIP?_0x5d679d(0x19d):'false',enableSocks=![];}else RproxyIP=_0x1ba1ec[_0x5d679d(0x1c5)]||!proxyIP?'true':_0x5d679d(0x146);const _0x39f1b0=_0x4f30e6[_0x5d679d(0x319)][_0x5d679d(0x267)]('Upgrade'),_0x48a517=new URL(_0x4f30e6[_0x5d679d(0x158)]);if(!_0x39f1b0||_0x39f1b0!==_0x5d679d(0x1fd)){if(_0x1ba1ec[_0x5d679d(0x190)])addresses=await ADD(_0x1ba1ec[_0x5d679d(0x190)]);if(_0x1ba1ec[_0x5d679d(0x2ad)])addressesapi=await ADD(_0x1ba1ec[_0x5d679d(0x2ad)]);if(_0x1ba1ec[_0x5d679d(0x325)])addressescsv=await ADD(_0x1ba1ec[_0x5d679d(0x325)]);DLS=Number(_0x1ba1ec[_0x5d679d(0x226)])||DLS,remarkIndex=Number(_0x1ba1ec['CSVREMARK'])||remarkIndex,BotToken=_0x1ba1ec[_0x5d679d(0x189)]||BotToken,ChatID=_0x1ba1ec[_0x5d679d(0x2c4)]||ChatID,FileName=_0x1ba1ec[_0x5d679d(0x24b)]||FileName,subEmoji=_0x1ba1ec[_0x5d679d(0x13e)]||_0x1ba1ec[_0x5d679d(0x1be)]||subEmoji;if(subEmoji=='0')subEmoji='false';if(_0x1ba1ec[_0x5d679d(0x1a9)])link=await ADD(_0x1ba1ec[_0x5d679d(0x1a9)]);let _0x26d4f6=_0x1ba1ec['SUB']||'';subConverter=_0x1ba1ec[_0x5d679d(0x2f8)]||subConverter;subConverter[_0x5d679d(0x175)]('http://')?(subConverter=subConverter['split']('//')[0x1],subProtocol=_0x5d679d(0x1f8)):subConverter=subConverter[_0x5d679d(0x1c2)]('//')[0x1]||subConverter;subConfig=_0x1ba1ec[_0x5d679d(0x1ba)]||subConfig;if(_0x48a517[_0x5d679d(0x280)]['has'](_0x5d679d(0x1c6))&&_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x267)](_0x5d679d(0x1c6))!=='')_0x26d4f6=_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x267)]('sub')['toLowerCase']();if(_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x1f3)](_0x5d679d(0x21b)))path='/proxyip='+_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x267)]('proxyip'),RproxyIP=_0x5d679d(0x146);else{if(_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x1f3)]('socks5'))path=_0x5d679d(0x1aa)+_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x267)](_0x5d679d(0x225)),RproxyIP=_0x5d679d(0x146);else _0x48a517['searchParams'][_0x5d679d(0x1f3)](_0x5d679d(0x15c))&&(path=_0x5d679d(0x1aa)+_0x48a517[_0x5d679d(0x280)]['get'](_0x5d679d(0x15c)),RproxyIP=_0x5d679d(0x146));}SCV=_0x1ba1ec['SCV']||SCV;if(!SCV||SCV=='0'||SCV=='false')allowInsecure='';else SCV='true';switch(_0x48a517[_0x5d679d(0x1c0)]){case'/':if(_0x1ba1ec['URL302'])return Response['redirect'](_0x1ba1ec[_0x5d679d(0x14b)],0x12e);else{if(_0x1ba1ec[_0x5d679d(0x178)])return await proxyURL(_0x1ba1ec[_0x5d679d(0x178)],_0x48a517);else return new Response(await nginx(),{'status':0xc8,'headers':{'Content-Type':_0x5d679d(0x152)}});}case'/'+_0x2c947a:const _0x5a5350=await get特洛伊Config(password,_0x4f30e6[_0x5d679d(0x319)][_0x5d679d(0x267)](_0x5d679d(0x23b)),_0x26d4f6,_0x5d679d(0x27c),RproxyIP,_0x48a517,_0x2c947a,_0x11198a,_0x1ba1ec);return new Response(''+_0x5a5350,{'status':0xc8});case'/'+password+_0x5d679d(0x2b0):return await KV(_0x4f30e6,_0x1ba1ec);case'/'+password+'/bestip':return await bestIP(_0x4f30e6,_0x1ba1ec);case'/'+password:await sendMessage(_0x5d679d(0x30c)+FileName,_0x4f30e6[_0x5d679d(0x319)][_0x5d679d(0x267)]('CF-Connecting-IP'),_0x5d679d(0x1a2)+_0x249893+_0x5d679d(0x1cc)+_0x48a517[_0x5d679d(0x17b)]+'\x0a<tg-spoiler>入口:\x20'+(_0x48a517['pathname']+_0x48a517['search'])+_0x5d679d(0x13d));const _0x8d70bd=await get特洛伊Config(password,_0x4f30e6[_0x5d679d(0x319)][_0x5d679d(0x267)](_0x5d679d(0x23b)),_0x26d4f6,_0x249893,RproxyIP,_0x48a517,_0x2c947a,_0x11198a,_0x1ba1ec),_0xbdcfe8=Date[_0x5d679d(0x2a7)](),_0x5ac033=new Date(_0xbdcfe8);_0x5ac033['setHours'](0x0,0x0,0x0,0x0);const _0x235589=Math[_0x5d679d(0x22a)]((_0xbdcfe8-_0x5ac033[_0x5d679d(0x230)]())/0x5265c00*0x18*0x10000000000/0x2);let _0x124d01=_0x235589,_0x26956f=_0x235589,_0x5f3c2a=0x18*0x10000000000;if(_0x1ba1ec[_0x5d679d(0x15a)]&&_0x1ba1ec[_0x5d679d(0x234)]||_0x1ba1ec[_0x5d679d(0x143)]&&_0x1ba1ec[_0x5d679d(0x17f)]){const _0x48c7dd=await getUsage(_0x1ba1ec[_0x5d679d(0x143)],_0x1ba1ec[_0x5d679d(0x15a)],_0x1ba1ec['CF_APIKEY'],_0x1ba1ec[_0x5d679d(0x17f)],_0x1ba1ec[_0x5d679d(0x22c)]);_0x124d01=_0x48c7dd[0x1],_0x26956f=_0x48c7dd[0x2],_0x5f3c2a=_0x1ba1ec[_0x5d679d(0x22c)]?Number(_0x1ba1ec[_0x5d679d(0x22c)]):0x400*0x64;}return _0x48137b&&(_0x48137b[_0x5d679d(0x175)](_0x5d679d(0x157))||_0x48137b['includes']('subconverter'))?new Response(_0x8d70bd,{'status':0xc8,'headers':{'Content-Type':_0x5d679d(0x18c),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x5d679d(0x13f)+_0x124d01+';\x20download='+_0x26956f+_0x5d679d(0x1df)+_0x5f3c2a+';\x20expire='+expire,'Cache-Control':_0x5d679d(0x32d)}}):new Response(_0x8d70bd,{'status':0xc8,'headers':{'Content-Disposition':_0x5d679d(0x1ad)+FileName+';\x20filename*=utf-8\x27\x27'+encodeURIComponent(FileName),'Profile-Update-Interval':'6','Profile-web-page-url':_0x4f30e6[_0x5d679d(0x158)][_0x5d679d(0x175)]('?')?_0x4f30e6[_0x5d679d(0x158)][_0x5d679d(0x1c2)]('?')[0x0]:_0x4f30e6[_0x5d679d(0x158)],'Subscription-Userinfo':'upload='+_0x124d01+_0x5d679d(0x2d8)+_0x26956f+_0x5d679d(0x1df)+_0x5f3c2a+_0x5d679d(0x185)+expire}});default:if(_0x1ba1ec['URL302'])return Response[_0x5d679d(0x1d6)](_0x1ba1ec[_0x5d679d(0x14b)],0x12e);else{if(_0x1ba1ec['URL'])return await proxyURL(_0x1ba1ec[_0x5d679d(0x178)],_0x48a517);else return new Response(_0x5d679d(0x2be),{'status':0x194});}}}else{socks5Address=_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x267)](_0x5d679d(0x225))||socks5Address;if(new RegExp(_0x5d679d(0x211),'i')[_0x5d679d(0x1d4)](_0x48a517[_0x5d679d(0x1c0)]))socks5Address=_0x48a517['pathname']['split']('5=')[0x1];else{if(new RegExp(_0x5d679d(0x296),'i')[_0x5d679d(0x1d4)](_0x48a517[_0x5d679d(0x1c0)])||new RegExp(_0x5d679d(0x25d),'i')[_0x5d679d(0x1d4)](_0x48a517['pathname'])||new RegExp(_0x5d679d(0x1fb),'i')['test'](_0x48a517['pathname'])){enableHttp=_0x48a517['pathname']['includes'](_0x5d679d(0x2b6)),socks5Address=_0x48a517[_0x5d679d(0x1c0)]['split']('://')[0x1]['split']('#')[0x0];if(socks5Address[_0x5d679d(0x175)]('@')){const _0x1a52de=socks5Address[_0x5d679d(0x18e)]('@');let _0xaaf3b=socks5Address[_0x5d679d(0x259)](0x0,_0x1a52de)['replaceAll'](_0x5d679d(0x27f),'=');const _0x6ae0d5=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x6ae0d5[_0x5d679d(0x1d4)](_0xaaf3b)&&!_0xaaf3b[_0x5d679d(0x175)](':'))_0xaaf3b=atob(_0xaaf3b);socks5Address=_0xaaf3b+'@'+socks5Address[_0x5d679d(0x259)](_0x1a52de+0x1);}go2Socks5s=[_0x5d679d(0x29e)];}}if(socks5Address)try{parsedSocks5Address=socks5AddressParser(socks5Address),enableSocks=!![];}catch(_0x4b4d50){let _0x394c64=_0x4b4d50;console[_0x5d679d(0x276)](_0x394c64[_0x5d679d(0x2df)]()),enableSocks=![];}else enableSocks=![];if(_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x1f3)]('proxyip'))proxyIP=_0x48a517[_0x5d679d(0x280)][_0x5d679d(0x267)](_0x5d679d(0x21b)),enableSocks=![];else{if(new RegExp('/proxyip=','i')[_0x5d679d(0x1d4)](_0x48a517[_0x5d679d(0x1c0)]))proxyIP=_0x48a517[_0x5d679d(0x1c0)][_0x5d679d(0x195)]()[_0x5d679d(0x1c2)](_0x5d679d(0x2b8))[0x1],enableSocks=![];else{if(new RegExp(_0x5d679d(0x25f),'i')['test'](_0x48a517[_0x5d679d(0x1c0)]))proxyIP=_0x5d679d(0x183)+_0x48a517[_0x5d679d(0x1c0)][_0x5d679d(0x195)]()[_0x5d679d(0x1c2)](_0x5d679d(0x25f))[0x1],enableSocks=![];else new RegExp('/pyip=','i')[_0x5d679d(0x1d4)](_0x48a517[_0x5d679d(0x1c0)])&&(proxyIP=_0x48a517[_0x5d679d(0x1c0)][_0x5d679d(0x195)]()[_0x5d679d(0x1c2)](_0x5d679d(0x223))[0x1],enableSocks=![]);}}return await 特洛伊OverWSHandler(_0x4f30e6);}}catch(_0x227bd1){let _0x38b4e5=_0x227bd1;return new Response(_0x38b4e5[_0x5d679d(0x2df)]());}}};async function 特洛伊OverWSHandler(_0x4d24c8){const _0x103432=_0x50ca29,_0x3af86f=new WebSocketPair(),[_0x517470,_0x8f3445]=Object[_0x103432(0x1e4)](_0x3af86f);_0x8f3445[_0x103432(0x270)]();let _0x14e8bc='',_0x1df3ec='';const _0x598c16=(_0x5635b9,_0x365955)=>{const _0x1f648f=_0x103432;console[_0x1f648f(0x276)]('['+_0x14e8bc+':'+_0x1df3ec+']\x20'+_0x5635b9,_0x365955||'');},_0x12decf=_0x4d24c8['headers'][_0x103432(0x267)](_0x103432(0x1f0))||'',_0x5f4e38=makeReadableWebSocketStream(_0x8f3445,_0x12decf,_0x598c16);let _0x16fd6f={'value':null},_0x2a3203=null;return _0x5f4e38['pipeTo'](new WritableStream({async 'write'(_0x28dc50,_0xe89e0e){const _0x3133e5=_0x103432;if(_0x2a3203)return _0x2a3203(_0x28dc50);if(_0x16fd6f[_0x3133e5(0x20f)]){const _0x12738d=_0x16fd6f[_0x3133e5(0x20f)]['writable'][_0x3133e5(0x31e)]();await _0x12738d[_0x3133e5(0x147)](_0x28dc50),_0x12738d[_0x3133e5(0x18a)]();return;}const {hasError:_0x579eae,message:_0x544890,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x15c228,addressType:_0x32fd4f}=await parse特洛伊Header(_0x28dc50);_0x14e8bc=addressRemote,_0x1df3ec=portRemote+'--'+Math[_0x3133e5(0x281)]()+_0x3133e5(0x1dc);if(_0x579eae){throw new Error(_0x544890);return;}if(!banHosts[_0x3133e5(0x175)](addressRemote))_0x598c16(_0x3133e5(0x265)+addressRemote+':'+portRemote),handleTCPOutBound(_0x16fd6f,addressRemote,portRemote,_0x15c228,_0x8f3445,_0x598c16,_0x32fd4f);else throw new Error(_0x3133e5(0x1cf)+addressRemote+':'+portRemote);},'close'(){const _0x1bde31=_0x103432;_0x598c16(_0x1bde31(0x275));},'abort'(_0xa5208d){const _0x48dc6d=_0x103432;_0x598c16(_0x48dc6d(0x2a5),JSON[_0x48dc6d(0x2fc)](_0xa5208d));}}))[_0x103432(0x1a5)](_0x1f0780=>{_0x598c16('readableWebSocketStream\x20pipeTo\x20error',_0x1f0780);}),new Response(null,{'status':0x65,'webSocket':_0x517470});}async function parse特洛伊Header(_0x2ff6d8){const _0x5a4bf6=_0x50ca29;if(_0x2ff6d8[_0x5a4bf6(0x166)]<0x38)return{'hasError':!![],'message':_0x5a4bf6(0x172)};let _0x48f37c=0x38;if(new Uint8Array(_0x2ff6d8[_0x5a4bf6(0x290)](0x38,0x39))[0x0]!==0xd||new Uint8Array(_0x2ff6d8['slice'](0x39,0x3a))[0x0]!==0xa)return{'hasError':!![],'message':_0x5a4bf6(0x2a8)};const _0x9fcf7c=new TextDecoder()['decode'](_0x2ff6d8['slice'](0x0,_0x48f37c));if(_0x9fcf7c!==sha224Password)return{'hasError':!![],'message':_0x5a4bf6(0x2fe)};const _0x70b05=_0x2ff6d8[_0x5a4bf6(0x290)](_0x48f37c+0x2);if(_0x70b05[_0x5a4bf6(0x166)]<0x6)return{'hasError':!![],'message':_0x5a4bf6(0x317)};const _0x128af6=new DataView(_0x70b05),_0x51d163=_0x128af6[_0x5a4bf6(0x238)](0x0);if(_0x51d163!==0x1)return{'hasError':!![],'message':_0x5a4bf6(0x181)};const _0x2d6f26=_0x128af6[_0x5a4bf6(0x238)](0x1);let _0x198091=0x0,_0x192689=0x2,_0x506573='';switch(_0x2d6f26){case 0x1:_0x198091=0x4,_0x506573=new Uint8Array(_0x70b05[_0x5a4bf6(0x290)](_0x192689,_0x192689+_0x198091))['join']('.');break;case 0x3:_0x198091=new Uint8Array(_0x70b05['slice'](_0x192689,_0x192689+0x1))[0x0],_0x192689+=0x1,_0x506573=new TextDecoder()['decode'](_0x70b05[_0x5a4bf6(0x290)](_0x192689,_0x192689+_0x198091));break;case 0x4:_0x198091=0x10;const _0x32f15a=new DataView(_0x70b05[_0x5a4bf6(0x290)](_0x192689,_0x192689+_0x198091)),_0x5067ae=[];for(let _0x3c9442=0x0;_0x3c9442<0x8;_0x3c9442++){_0x5067ae['push'](_0x32f15a[_0x5a4bf6(0x24a)](_0x3c9442*0x2)['toString'](0x10));}_0x506573=_0x5067ae[_0x5a4bf6(0x164)](':');break;default:return{'hasError':!![],'message':_0x5a4bf6(0x263)+_0x2d6f26};}if(!_0x506573)return{'hasError':!![],'message':'address\x20is\x20empty,\x20addressType\x20is\x20'+_0x2d6f26};const _0x5c3ea8=_0x192689+_0x198091,_0x7b042b=_0x70b05['slice'](_0x5c3ea8,_0x5c3ea8+0x2),_0x4567e5=new DataView(_0x7b042b)[_0x5a4bf6(0x24a)](0x0);return{'hasError':![],'addressRemote':_0x506573,'portRemote':_0x4567e5,'rawClientData':_0x70b05[_0x5a4bf6(0x290)](_0x5c3ea8+0x4),'addressType':_0x2d6f26};}async function handleTCPOutBound(_0x1cc1cb,_0x32529f,_0x5ef2db,_0x4b5898,_0xd2502e,_0x32beea,_0x337a27){const _0x5487a9=_0x50ca29;async function _0x5a0001(_0x45a626){const _0x1bd59e=_0xdc32;if(go2Socks5s[_0x1bd59e(0x175)](atob(_0x1bd59e(0x156)))||go2Socks5s[_0x1bd59e(0x175)](atob('Kg==')))return!![];return go2Socks5s['some'](_0x37e337=>{const _0x57cfb4=_0x1bd59e;let _0x25de3f=_0x37e337['replace'](/\*/g,'.*'),_0x22778b=new RegExp('^'+_0x25de3f+'$','i');return _0x22778b[_0x57cfb4(0x1d4)](_0x45a626);});}async function _0x1650c9(_0x560618,_0x508f48,_0x3a0a78=![],_0x20fe76=![]){const _0x11806f=_0xdc32;_0x32beea('connected\x20to\x20'+_0x560618+':'+_0x508f48);const _0x4416cf=_0x3a0a78?_0x20fe76?await httpConnect(_0x560618,_0x508f48,_0x32beea):await socks5Connect(_0x337a27,_0x560618,_0x508f48,_0x32beea):connect({'hostname':_0x560618,'port':_0x508f48});_0x1cc1cb[_0x11806f(0x20f)]=_0x4416cf;const _0x27ef1e=_0x4416cf[_0x11806f(0x306)][_0x11806f(0x31e)]();return await _0x27ef1e['write'](_0x4b5898),_0x27ef1e[_0x11806f(0x18a)](),_0x4416cf;}async function _0x162e1b(){const _0x3876a3=_0xdc32;if(!_0x13849b){const _0x1ed5c9='['+await resolveToIPv6(_0x32529f)+']';_0x32beea(_0x3876a3(0x22d)+_0x1ed5c9+_0x3876a3(0x310)),_0x25390b=await _0x1650c9(_0x1ed5c9,0x1bb);}_0x25390b[_0x3876a3(0x254)][_0x3876a3(0x1a5)](_0x2bcf5a=>{const _0x5880a8=_0x3876a3;console['log'](_0x5880a8(0x31a),_0x2bcf5a);})[_0x3876a3(0x2a9)](()=>{safeCloseWebSocket(_0xd2502e);}),remoteSocketToWS(_0x25390b,_0xd2502e,null,_0x32beea);}async function _0x24d2fe(){const _0x29bb4a=_0xdc32;if(enableSocks)_0x25390b=await _0x1650c9(_0x32529f,_0x5ef2db,!![],enableHttp);else{if(!proxyIP||proxyIP=='')proxyIP=atob(_0x29bb4a(0x2e7));else{if(proxyIP[_0x29bb4a(0x175)](']:'))_0x5ef2db=proxyIP[_0x29bb4a(0x1c2)](']:')[0x1]||_0x5ef2db,proxyIP=proxyIP['split'](']:')[0x0]+']'||proxyIP;else proxyIP['split'](':')[_0x29bb4a(0x289)]===0x2&&(_0x5ef2db=proxyIP[_0x29bb4a(0x1c2)](':')[0x1]||_0x5ef2db,proxyIP=proxyIP[_0x29bb4a(0x1c2)](':')[0x0]||proxyIP);}if(proxyIP[_0x29bb4a(0x175)](_0x29bb4a(0x2e8)))_0x5ef2db=proxyIP[_0x29bb4a(0x1c2)](_0x29bb4a(0x2e8))[0x1][_0x29bb4a(0x1c2)]('.')[0x0]||_0x5ef2db;_0x25390b=await _0x1650c9(proxyIP[_0x29bb4a(0x195)]()||_0x32529f,_0x5ef2db);}remoteSocketToWS(_0x25390b,_0xd2502e,_0x162e1b,_0x32beea);}let _0x13849b=![];if(go2Socks5s[_0x5487a9(0x289)]>0x0&&enableSocks)_0x13849b=await _0x5a0001(_0x32529f);let _0x25390b=await _0x1650c9(_0x32529f,_0x5ef2db,_0x13849b,enableHttp);remoteSocketToWS(_0x25390b,_0xd2502e,_0x24d2fe,_0x32beea);}function makeReadableWebSocketStream(_0x414b5f,_0x2c1ece,_0x31f2fe){let _0x43f433=![];const _0x414dec=new ReadableStream({'start'(_0x18d354){const _0x572a3e=_0xdc32;_0x414b5f[_0x572a3e(0x26e)](_0x572a3e(0x2f6),_0xc878cb=>{const _0x4638af=_0x572a3e;if(_0x43f433)return;const _0x3f907c=_0xc878cb['data'];_0x18d354[_0x4638af(0x2b5)](_0x3f907c);}),_0x414b5f[_0x572a3e(0x26e)](_0x572a3e(0x305),()=>{const _0x5b5eb9=_0x572a3e;safeCloseWebSocket(_0x414b5f);if(_0x43f433)return;_0x18d354[_0x5b5eb9(0x305)]();}),_0x414b5f[_0x572a3e(0x26e)]('error',_0x16251c=>{const _0x3191e5=_0x572a3e;_0x31f2fe(_0x3191e5(0x2eb)),_0x18d354['error'](_0x16251c);});const {earlyData:_0x53f677,error:_0x163096}=base64ToArrayBuffer(_0x2c1ece);if(_0x163096)_0x18d354['error'](_0x163096);else _0x53f677&&_0x18d354[_0x572a3e(0x2b5)](_0x53f677);},'pull'(_0x352ffb){},'cancel'(_0x2dbb89){const _0x233759=_0xdc32;if(_0x43f433)return;_0x31f2fe(_0x233759(0x192)+_0x2dbb89),_0x43f433=!![],safeCloseWebSocket(_0x414b5f);}});return _0x414dec;}async function remoteSocketToWS(_0x60bef2,_0x323928,_0x4c2fef,_0x36ae73){const _0x5817f4=_0x50ca29;let _0x14e48c=![];await _0x60bef2[_0x5817f4(0x200)][_0x5817f4(0x25b)](new WritableStream({'start'(){},async 'write'(_0x16a801,_0x6fa732){const _0x283ba7=_0x5817f4;_0x14e48c=!![],_0x323928[_0x283ba7(0x2e1)]!==WS_READY_STATE_OPEN&&_0x6fa732['error']('webSocket\x20connection\x20is\x20not\x20open'),_0x323928['send'](_0x16a801);},'close'(){const _0x457c61=_0x5817f4;_0x36ae73(_0x457c61(0x21a)+_0x14e48c);},'abort'(_0x1ed424){const _0x15b630=_0x5817f4;console[_0x15b630(0x2ee)](_0x15b630(0x1d3),_0x1ed424);}}))[_0x5817f4(0x1a5)](_0x2033be=>{const _0x33feb7=_0x5817f4;console[_0x33feb7(0x2ee)](_0x33feb7(0x15d),_0x2033be[_0x33feb7(0x2ab)]||_0x2033be),safeCloseWebSocket(_0x323928);}),_0x14e48c===![]&&_0x4c2fef&&(_0x36ae73('retry'),_0x4c2fef());}function base64ToArrayBuffer(_0x9c0ba4){const _0x391c12=_0x50ca29;if(!_0x9c0ba4)return{'earlyData':undefined,'error':null};try{_0x9c0ba4=_0x9c0ba4[_0x391c12(0x2d5)](/-/g,'+')[_0x391c12(0x2d5)](/_/g,'/');const _0x3f53c0=atob(_0x9c0ba4),_0x280ce7=Uint8Array['from'](_0x3f53c0,_0x446704=>_0x446704[_0x391c12(0x279)](0x0));return{'earlyData':_0x280ce7[_0x391c12(0x2c1)],'error':null};}catch(_0x36ae14){return{'earlyData':undefined,'error':_0x36ae14};}}let WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x1fa103){const _0x1eaed1=_0x50ca29;try{(_0x1fa103[_0x1eaed1(0x2e1)]===WS_READY_STATE_OPEN||_0x1fa103[_0x1eaed1(0x2e1)]===WS_READY_STATE_CLOSING)&&_0x1fa103['close']();}catch(_0x3d07a1){console[_0x1eaed1(0x2ee)](_0x1eaed1(0x227),_0x3d07a1);}}function _0xd3d0(){const _0x5d1f72=['443','socks5','DLS','safeCloseWebSocket\x20error',',\x20Workers:\x20','处理POST请求时发生错误:','floor','*ttvnw.net','CF_ALL','NAT64\x20代理连接到\x20','127.0.0.1:1234#CFnat','set','getTime','match','\x22,\x20tfo=false,\x20udp-relay=false','LmlwLjA5MDIyNy54eXo=','CF_APIKEY','query\x20getBillingMetrics($accountId:\x20String!,\x20$filter:\x20AccountWorkersInvocationsAdaptiveFilter_InputObject)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewer\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20accounts(filter:\x20{accountTag:\x20$accountId})\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pagesFunctionsInvocationsAdaptiveGroups(limit:\x201000,\x20filter:\x20$filter)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sum\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20requests\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20workersInvocationsAdaptive(limit:\x2010000,\x20filter:\x20$filter)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sum\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20requests\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','as24429','CFCDN（访问方式）:\x20ProxyIP<br>&nbsp;&nbsp;','getUint8','as209242','?sb\x27,\x27qrcode_3\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','Host','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','TOKEN','viewer','&fdn=false&sort=false&new_name=true','padStart','Status','bmlwLmxmcmVlLm9yZw==','surge','?loon\x27,\x27qrcode_5\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','&host=','action','收到HTTP代理响应:\x20','CSV文件缺少必需的字段','getUint16','SUBNAME','&fdn=false','\x20个优选IP','delete','&parse_mode=HTML&text=','\x20个重复项','\x0a组织:\x20','save','个不重复IP','closed','b64','pop',',\x20password:\x20','\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22content\x22>','substring','gzip,\x20deflate,\x20br','pipeTo',',\x20ws-headers=Host:\x22','/socks5://','NAT64','/proxyip.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong><a\x20href=\x22javascript:void(0);\x22\x20id=\x22noticeToggle\x22\x20onclick=\x22toggleNotice()\x22>实用订阅技巧∨</a></strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22noticeContent\x22\x20class=\x22notice-content\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>1.</strong>\x20如您使用的是\x20PassWall、PassWall2\x20路由插件，订阅编辑的\x20<strong>用户代理(User-Agent)</strong>\x20设置为\x20<strong>PassWall</strong>\x20即可；<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>2.</strong>\x20如您使用的是\x20SSR+\x20路由插件，推荐使用\x20<strong>Base64订阅地址</strong>\x20进行订阅；<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>3.</strong>\x20快速切换\x20<a\x20href=\x27','skip-cert-verify=true,\x20tfo=false,\x20udp-relay=false','4133472WmVbfe','invalid\x20addressType\x20is\x20','socks\x20server\x20needs\x20auth','处理\x20TCP\x20出站连接\x20','/96','get','base64','encode','?sb</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_3\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20loon订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PASSWORD:\x20','toUpperCase','<strong>?socks5=user:password@127.0.0.1:1080</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>6.</strong>\x20如需指定多个参数则需要使用\x27&\x27做间隔，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;https://','addEventListener','epeius','accept','http://ip-api.com/json/','SHA224','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Surge订阅必须绑定自定义域','readableWebSocketStream\x20is\x20closed','log','发现\x20','Invalid\x20IP\x20list','charCodeAt','接口地址','aHR0cHM6Ly9naXRodWIuY29tL2NtbGl1L1dvcmtlclZsZXNzMnN1Yg==','CF-Workers-SUB','User-Agent:\x20Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x0d\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(document.querySelector(\x27.editor\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20timer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textarea\x20=\x20document.getElementById(\x27content\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalContent\x20=\x20textarea.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20goBack()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20goBestIP()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl\x20+\x20\x27/bestip\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20replaceFullwidthColon()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20text\x20=\x20textarea.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textarea.value\x20=\x20text.replace(/：/g,\x20\x27:\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20saveContent(button)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20updateButtonText\x20=\x20(step)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.textContent\x20=\x20`保存中:\x20${step}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检测是否为iOS设备\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20isIOS\x20=\x20/iPad|iPhone|iPod/.test(navigator.userAgent);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20仅在非iOS设备上执行replaceFullwidthColon\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!isIOS)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20replaceFullwidthColon();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27开始保存\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取textarea内容和原始内容\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20textarea\x20=\x20document.getElementById(\x27content\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!textarea)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27找不到文本编辑区域\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27获取内容\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20newContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20originalContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20newContent\x20=\x20textarea.value\x20||\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20originalContent\x20=\x20textarea.defaultValue\x20||\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(e)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27获取内容错误:\x27,\x20e);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27无法获取编辑内容\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27准备状态更新函数\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20updateStatus\x20=\x20(message,\x20isError\x20=\x20false)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20statusElem\x20=\x20document.getElementById(\x27saveStatus\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(statusElem)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.textContent\x20=\x20message;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.style.color\x20=\x20isError\x20?\x20\x27red\x27\x20:\x20\x27#666\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27准备按钮重置函数\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resetButton\x20=\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.textContent\x20=\x20\x27保存\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(newContent\x20!==\x20originalContent)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27发送保存请求\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20fetch(window.location.href,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20newContent,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27text/plain;charset=UTF-8\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cache:\x20\x27no-cache\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.then(response\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27检查响应状态\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(`HTTP\x20error!\x20status:\x20${response.status}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27更新保存状态\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20now\x20=\x20new\x20Date().toLocaleString();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.title\x20=\x20`编辑已保存\x20${now}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateStatus(`已保存\x20${now}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.catch(error\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27处理错误\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27Save\x20error:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateStatus(`保存失败:\x20${error.message}`,\x20true);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.finally(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resetButton();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonText(\x27检查内容变化\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateStatus(\x27内容未变化\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resetButton();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27保存过程出错:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.textContent\x20=\x20\x27保存\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20statusElem\x20=\x20document.getElementById(\x27saveStatus\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(statusElem)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.textContent\x20=\x20`错误:\x20${error.message}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20statusElem.style.color\x20=\x20\x27red\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textarea.addEventListener(\x27blur\x27,\x20saveContent);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textarea.addEventListener(\x27input\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timer);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20timer\x20=\x20setTimeout(saveContent,\x205000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleNotice()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeContent\x20=\x20document.getElementById(\x27noticeContent\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeToggle\x20=\x20document.getElementById(\x27noticeToggle\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(noticeContent.style.display\x20===\x20\x27none\x27\x20||\x20noticeContent.style.display\x20===\x20\x27\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27注意事项∧\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27注意事项∨\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20初始化\x20noticeContent\x20的\x20display\x20属性\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.getElementById(\x27noticeContent\x27).style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','%3D','searchParams','random','获取地址时出错:','setUint16','104.16.0.0/13','randomized','size','v2rayN','allSettled','length','?surge\x27,\x27qrcode_4\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','statusText','&emoji=','proxyip=true','pow','filter','slice','fromCharCode','<strong>?sub=sub.google.com</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>4.</strong>\x20快速更换\x20PROXYIP\x20至：proxyip.cmliussss.net:443，您可将\x22?proxyip=proxyip.cmliussss.net:443\x22参数添加到链接末尾，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;\x20https://',',\x20network:\x20','无效的IPv4地址','port','/socks://','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/13335/ipv4-aggregated.txt','dGVsZWdyYW0lMjAlRTQlQkElQTQlRTYlQjUlODElRTclQkUlQTQlMjAlRTYlOEElODAlRTYlOUMlQUYlRTUlQTQlQTclRTQlQkQlQUMlN0UlRTUlOUMlQTglRTclQkElQkYlRTUlOEYlOTElRTclODklOEMhJTNDYnIlM0UKJTNDYSUyMGhyZWYlM0QlMjdodHRwcyUzQSUyRiUyRnQubWUlMkZDTUxpdXNzc3MlMjclM0VodHRwcyUzQSUyRiUyRnQubWUlMkZDTUxpdXNzc3MlM0MlMkZhJTNFJTNDYnIlM0UKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJTNDYnIlM0UKZ2l0aHViJTIwJUU5JUExJUI5JUU3JTlCJUFFJUU1JTlDJUIwJUU1JTlEJTgwJTIwU3RhciFTdGFyIVN0YXIhISElM0NiciUzRQolM0NhJTIwaHJlZiUzRCUyN2h0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmNtbGl1JTJGZXBlaXVzJTI3JTNFaHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGY21saXUlMkZlcGVpdXMlM0MlMkZhJTNFJTNDYnIlM0UKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJTNDYnIlM0UKJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIzJTIz',',\x20ws-opts:\x20{path:\x20\x22','获取\x20CF-CIDR\x20失败，使用默认值:','JTA5JTA5JTA5JTA5JTA5JTNDc3Ryb25nJTNFMS4lM0MlMkZzdHJvbmclM0UlMjBBRERBUEklMjAlRTUlQTYlODIlRTYlOUUlOUMlRTYlOTglQUYlRTUlOEYlOEQlRTQlQkIlQTNJUCVFRiVCQyU4QyVFNSU4RiVBRiVFNCVCRCU5QyVFNCVCOCVCQVBST1hZSVAlRTclOUElODQlRTglQUYlOUQlRUYlQkMlOEMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwcm94eWlwJTNEdHJ1ZSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGYWRkcmVzc2VzYXBpLnR4dCUzQ3N0cm9uZyUzRSUzRnByb3h5aXAlM0R0cnVlJTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklM0NzdHJvbmclM0UyLiUzQyUyRnN0cm9uZyUzRSUyMEFEREFQSSUyMCVFNSVBNiU4MiVFNiU5RSU5QyVFNiU5OCVBRiUyMCUzQ2ElMjBocmVmJTNEJTI3aHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGWElVMiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QlMjclM0VDbG91ZGZsYXJlU3BlZWRUZXN0JTNDJTJGYSUzRSUyMCVFNyU5QSU4NCUyMGNzdiUyMCVFNyVCQiU5MyVFNiU5RSU5QyVFNiU5NiU4NyVFNCVCQiVCNiVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NiciUzRSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCLSUyMCVFNSVBNiU4MiVFOSU5QyU4MCVFNiU4QyU4NyVFNSVBRSU5QTIwNTMlRTclQUIlQUYlRTUlOEYlQTMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwb3J0JTNEMjA1MyUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0Zwb3J0JTNEMjA1MyUzQyUyRnN0cm9uZyUzRSUzQ2JyJTNFJTNDYnIlM0UKJTA5JTA5JTA5JTA5JTA5JTI2bmJzcCUzQiUyNm5ic3AlM0ItJTIwJUU1JUE2JTgyJUU5JTlDJTgwJUU2JThDJTg3JUU1JUFFJTlBJUU4JThBJTgyJUU3JTgyJUI5JUU1JUE0JTg3JUU2JUIzJUE4JUU1JThGJUFGJUU1JUIwJTg2JTIyJTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0ZpZCUzRENGJUU0JUJDJTk4JUU5JTgwJTg5JTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQi0lMjAlRTUlQTYlODIlRTklOUMlODAlRTYlOEMlODclRTUlQUUlOUElRTUlQTQlOUElRTQlQjglQUElRTUlOEYlODIlRTYlOTUlQjAlRTUlODglOTklRTklOUMlODAlRTglQTYlODElRTQlQkQlQkYlRTclOTQlQTglMjclMjYlMjclRTUlODElOUElRTklOTclQjQlRTklOUElOTQlRUYlQkMlOEMlRTQlQkUlOEIlRTUlQTYlODIlRUYlQkMlOUElM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGbWFpbiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QuY3N2JTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUzQ3N0cm9uZyUzRSUyNiUzQyUyRnN0cm9uZyUzRXBvcnQlM0QyMDUzJTNDYnIlM0U=','Socks5','all\x20in','Q0YtV29ya2Vycy1lcGVpdXMvY21saXU=','读取数据时发生错误:\x20','as199524','\x20个，现共\x20','\x0a<tg-spoiler>','追加失败：合并后内容过大（','readableWebSocketStream\x20is\x20aborted','-\x20{name:\x20','now','invalid\x20header\x20format\x20(missing\x20CR\x20LF)','finally','PROXYIP','stack','DoH解析出错:','ADDAPI','MD5','</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>获取到的IP总数：</strong><span\x20id=\x22ip-count\x22>点击开始测试后加载</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>测试进度：</strong><span\x20id=\x22progress-text\x22>未开始</span></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22progress-bar\x22\x20id=\x22progress-bar\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22test-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>📊\x20测试说明：</strong>当前优选方式仅进行网络延迟测试，主要评估连接响应速度，并未包含带宽速度测试。延迟测试可快速筛选出响应最快的IP节点，适合日常使用场景的初步优选。</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<div\x20class=\x22warm-tips\x22\x20id=\x22warm-tips\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>💡\x20温馨提示</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>优选完成但测试\x22真连接延迟\x22为\x20-1？</strong>这很有可能是您的网络运营商对你的请求进行了阻断。</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>建议尝试以下解决方案：</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>更换端口：</strong>尝试使用其他端口（如\x202053、2083、2087、2096、8443）</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>更换IP库：</strong>切换到不同的IP来源（CM整理列表、AS13335、AS209242列表等，但如果你不明白AS24429和AS199524意味着什么，那就不要选。）</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li><strong>更换自定义域名：</strong>如果您使用的还是免费域名，那么您更应该尝试一下更换自定义域</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>💡\x20<strong>小贴士：</strong>不同地区和网络环境对各端口的支持情况可能不同，多尝试几个端口组合通常能找到适合的IP。</p>\x0a\x20\x20\x20\x20</div>\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22test-controls\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22port-selector\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22ip-source-select\x22>IP库：</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22ip-source-select\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22official\x22>CF官方列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22cm\x22>CM整理列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as13335\x22>AS13335列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as209242\x22>AS209242列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as24429\x22>AS24429列表(Alibaba)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22as199524\x22>AS199524列表(G-Core)</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22proxyip\x22>反代IP列表</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<label\x20for=\x22port-select\x22\x20style=\x22margin-left:\x2020px;\x22>端口：</label>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20id=\x22port-select\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22443\x22>443</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222053\x22>2053</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222083\x22>2083</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222087\x22>2087</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x222096\x22>2096</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x228443\x22>8443</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22button-group\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22test-button\x22\x20id=\x22test-btn\x22\x20onclick=\x22startTest()\x22>开始延迟测试</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22save-button\x22\x20id=\x22save-btn\x22\x20onclick=\x22saveIPs()\x22\x20disabled>覆盖保存优选IP</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22append-button\x22\x20id=\x22append-btn\x22\x20onclick=\x22appendIPs()\x22\x20disabled>追加保存优选IP</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22edit-button\x22\x20id=\x22edit-btn\x22\x20onclick=\x22goEdit()\x22>编辑优选列表</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22back-button\x22\x20id=\x22back-btn\x22\x20onclick=\x22goBack()\x22>返回配置页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22save-warning\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<small>⚠️\x20重要提醒：\x22覆盖保存优选IP\x22会完全覆盖当前\x20addresses/ADD\x20优选内容，请慎重考虑！建议优先使用\x22追加保存优选IP\x22功能。</small>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22save-tip\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>💡\x20保存提示：</strong>[<strong>覆盖保存优选IP</strong>]\x20和\x20[<strong>追加保存优选IP</strong>]\x20功能仅会保存延迟最低的<strong>前16个优选IP</strong>。如需添加更多IP或进行自定义编辑，请使用\x20[<strong>编辑优选列表</strong>]\x20功能。\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22message\x22\x20class=\x22message\x22></div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<h2>IP列表\x20<span\x20id=\x22result-count\x22></span></h2>\x0a\x20\x20\x20\x20<div\x20class=\x22ip-display-info\x22\x20id=\x22ip-display-info\x22></div>\x0a\x20\x20\x20\x20<div\x20id=\x22region-filter\x22\x20style=\x22margin:\x2015px\x200;\x20display:\x20none;\x22></div>\x0a\x20\x20\x20\x20<div\x20class=\x22ip-list\x22\x20id=\x22ip-list\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22ip-item\x22>请选择端口和IP库，然后点击\x22开始延迟测试\x22加载IP列表</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20<div\x20class=\x22show-more-section\x22\x20id=\x22show-more-section\x22\x20style=\x22display:\x20none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22show-more-btn\x22\x20id=\x22show-more-btn\x22\x20onclick=\x22toggleShowMore()\x22>显示更多</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20originalIPs\x20=\x20[];\x20//\x20改为动态加载\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20testResults\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20displayedResults\x20=\x20[];\x20//\x20新增：存储当前显示的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20showingAll\x20=\x20false;\x20//\x20新增：标记是否显示全部内容\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20currentDisplayType\x20=\x20\x27loading\x27;\x20//\x20新增：当前显示类型\x20\x27loading\x27\x20|\x20\x27results\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20let\x20cloudflareLocations\x20=\x20{};\x20//\x20新增：存储Cloudflare位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：本地存储管理\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20StorageKeys\x20=\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PORT:\x20\x27cf-ip-test-port\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IP_SOURCE:\x20\x27cf-ip-test-source\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：加载Cloudflare位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadCloudflareLocations()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27https://speed.cloudflare.com/locations\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20locations\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20转换为以iata为key的对象，便于快速查找\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cloudflareLocations\x20=\x20{};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20locations.forEach(location\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cloudflareLocations[location.iata]\x20=\x20location;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27Cloudflare位置信息加载成功:\x27,\x20Object.keys(cloudflareLocations).length,\x20\x27个位置\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27无法加载Cloudflare位置信息，将使用原始colo值\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27加载Cloudflare位置信息失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.warn(\x27将使用原始colo值\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20初始化页面设置\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20initializeSettings()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20从本地存储读取上次的选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20savedPort\x20=\x20localStorage.getItem(StorageKeys.PORT);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20savedIPSource\x20=\x20localStorage.getItem(StorageKeys.IP_SOURCE);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20恢复端口选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(savedPort\x20&&\x20portSelect.querySelector(`option[value=\x22${savedPort}\x22]`))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.value\x20=\x20savedPort;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.value\x20=\x20\x278443\x27;\x20//\x20默认值\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20恢复IP库选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(savedIPSource\x20&&\x20ipSourceSelect.querySelector(`option[value=\x22${savedIPSource}\x22]`))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.value\x20=\x20savedIPSource;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.value\x20=\x20\x27official\x27;\x20//\x20默认值改为CF官方列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加事件监听器保存选择\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.addEventListener(\x27change\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.PORT,\x20this.value);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.addEventListener(\x27change\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.IP_SOURCE,\x20this.value);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20页面加载完成后初始化设置\x0a\x20\x20\x20\x20\x20\x20\x20\x20document.addEventListener(\x27DOMContentLoaded\x27,\x20async\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20先加载Cloudflare位置信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20loadCloudflareLocations();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20然后初始化页面设置\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20initializeSettings();\x0a\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：切换显示更多/更少\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleShowMore()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20在测试过程中不允许切换显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDisplayType\x20===\x20\x27testing\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20!showingAll;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDisplayType\x20===\x20\x27loading\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayLoadedIPs();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if\x20(currentDisplayType\x20===\x20\x27results\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayResults();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：显示加载的IP列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayLoadedIPs()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreBtn\x20=\x20document.getElementById(\x27show-more-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(originalIPs.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>加载IP列表失败，请重试</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20displayCount\x20=\x20showingAll\x20?\x20originalIPs.length\x20:\x20Math.min(originalIPs.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20displayIPs\x20=\x20originalIPs.slice(0,\x20displayCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新显示信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(originalIPs.length\x20<=\x2016)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20`显示全部\x20${originalIPs.length}\x20个IP`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20`显示前\x20${displayCount}\x20个IP，共加载\x20${originalIPs.length}\x20个IP`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20只在非测试状态下显示\x22显示更多\x22按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(currentDisplayType\x20!==\x20\x27testing\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.textContent\x20=\x20showingAll\x20?\x20\x27显示更少\x27\x20:\x20\x27显示更多\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示IP列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20displayIPs.map(ip\x20=>\x20`<div\x20class=\x22ip-item\x22>${ip}</div>`).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20showMessage(text,\x20type\x20=\x20\x27success\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20messageDiv\x20=\x20document.getElementById(\x27message\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.textContent\x20=\x20text;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.className\x20=\x20`message\x20${type}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x203秒后自动隐藏消息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20setTimeout(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20messageDiv.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x203000);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20updateButtonStates()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveBtn\x20=\x20document.getElementById(\x27save-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20appendBtn\x20=\x20document.getElementById(\x27append-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hasResults\x20=\x20displayedResults.length\x20>\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.disabled\x20=\x20!hasResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.disabled\x20=\x20!hasResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20disableAllButtons()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20testBtn\x20=\x20document.getElementById(\x27test-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveBtn\x20=\x20document.getElementById(\x27save-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20appendBtn\x20=\x20document.getElementById(\x27append-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editBtn\x20=\x20document.getElementById(\x27edit-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20backBtn\x20=\x20document.getElementById(\x27back-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20enableButtons()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20testBtn\x20=\x20document.getElementById(\x27test-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20editBtn\x20=\x20document.getElementById(\x27edit-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20backBtn\x20=\x20document.getElementById(\x27back-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20editBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20saveIPs()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用当前显示的结果而不是全部结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipsToSave\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(document.getElementById(\x27region-filter\x27)\x20&&\x20document.getElementById(\x27region-filter\x27).style.display\x20!==\x20\x27none\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果地区筛选器可见，使用筛选后的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToSave\x20=\x20displayedResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20否则使用全部测试结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToSave\x20=\x20testResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipsToSave.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27没有可保存的IP结果\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveBtn\x20=\x20document.getElementById(\x27save-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20saveBtn.textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20禁用所有按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20disableAllButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.textContent\x20=\x20\x27保存中...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20只保存前16个最优IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveCount\x20=\x20Math.min(ipsToSave.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ips\x20=\x20ipsToSave.slice(0,\x20saveCount).map(result\x20=>\x20result.display);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27?action=save\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20ips\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.success)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.message\x20+\x20\x27（已保存前\x27\x20+\x20saveCount\x20+\x20\x27个最优IP）\x27,\x20\x27success\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.error\x20||\x20\x27保存失败\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27保存失败:\x20\x27\x20+\x20error.message,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20saveBtn.textContent\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20enableButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20appendIPs()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用当前显示的结果而不是全部结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipsToAppend\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(document.getElementById(\x27region-filter\x27)\x20&&\x20document.getElementById(\x27region-filter\x27).style.display\x20!==\x20\x27none\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果地区筛选器可见，使用筛选后的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToAppend\x20=\x20displayedResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20否则使用全部测试结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipsToAppend\x20=\x20testResults;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipsToAppend.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27没有可追加的IP结果\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20appendBtn\x20=\x20document.getElementById(\x27append-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20originalText\x20=\x20appendBtn.textContent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20禁用所有按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20disableAllButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.textContent\x20=\x20\x27追加中...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20只追加前16个最优IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20saveCount\x20=\x20Math.min(ipsToAppend.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ips\x20=\x20ipsToAppend.slice(0,\x20saveCount).map(result\x20=>\x20result.display);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27?action=append\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27POST\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20headers:\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x27Content-Type\x27:\x20\x27application/json\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20},\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body:\x20JSON.stringify({\x20ips\x20})\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(data.success)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.message\x20+\x20\x27（已追加前\x27\x20+\x20saveCount\x20+\x20\x27个最优IP）\x27,\x20\x27success\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(data.error\x20||\x20\x27追加失败\x27,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMessage(\x27追加失败:\x20\x27\x20+\x20error.message,\x20\x27error\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20finally\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20appendBtn.textContent\x20=\x20originalText;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20enableButtons();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20goEdit()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl\x20+\x20\x27/edit\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20goBack()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentUrl\x20=\x20window.location.href;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parentUrl\x20=\x20currentUrl.substring(0,\x20currentUrl.lastIndexOf(\x27/\x27));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20window.location.href\x20=\x20parentUrl;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20testIP(ip,\x20port)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeout\x20=\x205000;\x20//\x20增加超时时间到5秒\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20解析IP格式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parsedIP\x20=\x20parseIPFormat(ip,\x20port);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!parsedIP)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20进行测试，最多重试3次\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20lastError\x20=\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(let\x20attempt\x20=\x201;\x20attempt\x20<=\x203;\x20attempt++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20singleTest(parsedIP.host,\x20parsedIP.port,\x20timeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(`IP\x20${parsedIP.host}:${parsedIP.port}\x20第${attempt}次测试成功:\x20${result.latency}ms,\x20colo:\x20${result.colo},\x20类型:\x20${result.type}`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20根据colo字段获取国家代码\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20locationCode\x20=\x20cloudflareLocations[result.colo]\x20?\x20cloudflareLocations[result.colo].cca2\x20:\x20result.colo;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20生成显示格式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20typeText\x20=\x20result.type\x20===\x20\x27official\x27\x20?\x20\x27官方优选\x27\x20:\x20\x27反代优选\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20display\x20=\x20`${parsedIP.host}:${parsedIP.port}#${locationCode}\x20${typeText}\x20${result.latency}ms`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip:\x20parsedIP.host,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port:\x20parsedIP.port,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20latency:\x20result.latency,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colo:\x20result.colo,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20type:\x20result.type,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20locationCode:\x20locationCode,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20comment:\x20`${locationCode}\x20${typeText}`,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20display\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(`IP\x20${parsedIP.host}:${parsedIP.port}\x20第${attempt}次测试失败`);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(attempt\x20<\x203)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20短暂延迟后重试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20new\x20Promise(resolve\x20=>\x20setTimeout(resolve,\x20200));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x20//\x20所有尝试都失败\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：解析IP格式的函数\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20parseIPFormat(ipString,\x20defaultPort)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20host,\x20port,\x20comment;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20先处理注释部分（#之后的内容）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20mainPart\x20=\x20ipString;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(ipString.includes(\x27#\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20ipString.split(\x27#\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mainPart\x20=\x20parts[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20comment\x20=\x20parts[1];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20处理端口部分\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(mainPart.includes(\x27:\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20mainPart.split(\x27:\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host\x20=\x20parts[0];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port\x20=\x20parseInt(parts[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host\x20=\x20mainPart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port\x20=\x20parseInt(defaultPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20验证IP格式\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!host\x20||\x20!port\x20||\x20isNaN(port))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20host:\x20host.trim(),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port:\x20port,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20comment:\x20comment\x20?\x20comment.trim()\x20:\x20null\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27解析IP格式失败:\x27,\x20ipString,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20singleTest(ip,\x20port,\x20timeout)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20先进行预请求以缓存DNS解析结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20controller\x20=\x20new\x20AbortController();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeoutId\x20=\x20setTimeout(()\x20=>\x20controller.abort(),\x20timeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20ip.split(\x27.\x27).map(part\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hex\x20=\x20parseInt(part,\x2010).toString(16);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20hex.length\x20===\x201\x20?\x20\x270\x27\x20+\x20hex\x20:\x20hex;\x20//\x20补零\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20nip\x20=\x20parts.join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20预请求，不计入延迟时间\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20fetch(\x27https://\x27\x20+\x20nip\x20+\x20\x27.','/edit','DNS64Server查询失败:','json','解析错误:','read','enqueue','http://','https://','/proxyip=','&fp=randomized&type=ws&host=','MB），超过KV存储限制（24MB）','无效的IP地址:\x20',',\x20总计:\x20','链接地址','不用怀疑！你PASSWORD就是错的！！！','type','IP数量超过512个，随机选择了','buffer','未提供账户ID，正在自动获取...','操作失败:\x20','TGID','flatMap','&allowInsecure=1','CFCDN（访问方式）:\x20','无效的\x20SOCKS\x20地址格式：端口号必须是数字','charAt','concat','POST','}}}','protocol','put','轮生成','indexOf','?surge','获取CSV地址时出错:','/bestip\x27>在线优选IP</a>]','❌\x20未找到匹配的账户，使用默认第\x200\x20个账户','replace','org','17325936ZEirQy',';\x20download=','发送HTTP\x20CONNECT请求失败:','\x0aIP:\x20','city','\x0aASN:\x20','HTTP/1.0\x20200',':\x27\x20+\x20port\x20+\x20\x27/cdn-cgi/trace\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20signal:\x20controller.signal,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mode:\x20\x27cors\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timeoutId);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(preRequestError)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20预请求失败可以忽略，继续进行正式测试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.log(\x27预请求失败\x20(\x27\x20+\x20ip\x20+\x20\x27:\x27\x20+\x20port\x20+\x20\x27):\x27,\x20preRequestError.message);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20正式延迟测试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20startTime\x20=\x20Date.now();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20controller\x20=\x20new\x20AbortController();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20timeoutId\x20=\x20setTimeout(()\x20=>\x20controller.abort(),\x20timeout);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20parts\x20=\x20ip.split(\x27.\x27).map(part\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20hex\x20=\x20parseInt(part,\x2010).toString(16);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20hex.length\x20===\x201\x20?\x20\x270\x27\x20+\x20hex\x20:\x20hex;\x20//\x20补零\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20nip\x20=\x20parts.join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(\x27https://\x27\x20+\x20nip\x20+\x20\x27.','toString','&type=A','readyState','SOCKS5','&type=','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SCV（跳过TLS证书验证）:\x20','<div\x20style=\x22font-size:13px;\x22>','method','UFJPWFlJUC50cDEuMDkwMjI3Lnh5eg==','.tp','\x20个账户，正在智能匹配...','trim','webSocketServer\x20error','?surge</a><br><div\x20id=\x22qrcode_4\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>','https://api.cloudflare.com/client/v4/accounts','error','173.245.48.0/20\x0a103.21.244.0/22\x0a103.22.200.0/22\x0a103.31.4.0/22\x0a141.101.64.0/18\x0a108.162.192.0/18\x0a190.93.240.0/20\x0a188.114.96.0/20\x0a197.234.240.0/22\x0a198.41.128.0/17\x0a162.158.0.0/15\x0a104.16.0.0/13\x0a104.24.0.0/14\x0a172.64.0.0/13\x0a131.0.72.0/22','QUREJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCnZpc2EuY24lMjMlRTQlQkMlOTglRTklODAlODklRTUlOUYlOUYlRTUlOTAlOEQKMTI3LjAuMC4xJTNBMTIzNCUyM0NGbmF0CiU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MyUyM0lQdjYKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QQolRTYlQUYlOEYlRTglQTElOEMlRTQlQjglODAlRTQlQjglQUElRTUlOUMlQjAlRTUlOUQlODAlRUYlQkMlOEMlRTYlQTAlQkMlRTUlQkMlOEYlRTQlQjglQkElMjAlRTUlOUMlQjAlRTUlOUQlODAlM0ElRTclQUIlQUYlRTUlOEYlQTMlMjMlRTUlQTQlODclRTYlQjMlQTgKSVB2NiVFNSU5QyVCMCVFNSU5RCU4MCVFOSU5QyU4MCVFOCVBNiU4MSVFNyU5NCVBOCVFNCVCOCVBRCVFNiU4QiVBQyVFNSU4RiVCNyVFNiU4QiVBQyVFOCVCNSVCNyVFNiU5RCVBNSVFRiVCQyU4QyVFNSVBNiU4MiVFRiVCQyU5QSU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MwolRTclQUIlQUYlRTUlOEYlQTMlRTQlQjglOEQlRTUlODYlOTklRUYlQkMlOEMlRTklQkIlOTglRTglQUUlQTQlRTQlQjglQkElMjA0NDMlMjAlRTclQUIlQUYlRTUlOEYlQTMlRUYlQkMlOEMlRTUlQTYlODIlRUYlQkMlOUF2aXNhLmNuJTIzJUU0JUJDJTk4JUU5JTgwJTg5JUU1JTlGJTlGJUU1JTkwJThECgoKQUREQVBJJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGcmVmcyUyRmhlYWRzJTJGbWFpbiUyRmFkZHJlc3Nlc2FwaS50eHQKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QUFEREFQSSVFNyU5QiVCNCVFNiU4RSVBNSVFNiVCNyVCQiVFNSU4QSVBMCVFNyU5QiVCNCVFOSU5MyVCRSVFNSU4RCVCMyVFNSU4RiVBRg==','loadIPs','subtle','检查账户\x20','UUID','\x20(来源行:\x20','message','function','SUBAPI','Connection:\x20Keep-Alive\x0d\x0a','/sub?target=loon&url=','\x20-\x20','stringify','DNS64','invalid\x20password','&fragment=','636168lOemXx','HTTP','subconverter','2087','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<title>优选订阅列表</title>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20charset=\x22utf-8\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,\x20initial-scale=1\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x20/*\x20调整padding\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x20/*\x20设置全局字体大小\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.editor-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.editor\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20520px;\x20/*\x20调整高度\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2015px\x200;\x20/*\x20调整margin\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x20/*\x20调整padding\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-sizing:\x20border-box;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resize:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-container\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x208px;\x20/*\x20调整margin\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x20/*\x20调整gap\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-btn,\x20.back-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2015px;\x20/*\x20调整padding\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#45a049;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.back-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.back-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#555;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.bestip-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#2196F3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.bestip-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20#1976D2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.save-status\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.notice-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2013px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#333;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','close','writable','2096','from','cHJveHlpcC5jbWxpdXNzc3MubmV0','Proxy-Authorization:\x20Basic\x20',',\x20server:\x20','#获取订阅\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FAKEPASS:\x20','add','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/24429/ipv4-aggregated.txt',':443','L2VwZWl1cyAoaHR0cHM6Ly9naXRodWIuY29tL2NtbGl1L2VwZWl1cyk=','isArray','HTTP代理连接失败:\x20未收到成功响应','无效的IPv4地址段',',\x20ID:\x20','\x20）:\x20<br>&nbsp;&nbsp;','invalid\x20SOCKS5\x20request\x20data','无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]','headers','retry\x20tcpSocket\x20closed\x20error','socks\x20connection\x20opened','8443','CONNECT\x20','getWriter','/sub?target=clash&url=',',\x20udp:\x20false,\x20client-fingerprint:\x20','.xyz','https://www.cloudflare.com/ips-v4/','HTTP代理连接成功:\x20','errors','ADDCSV','clash','\x20[<a\x20href=\x27','Host:\x20','\x20配置信息<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20HOST:\x20','/sub?host=','#!MANAGED-CONFIG\x20','<br>您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供','no-store','</tg-spoiler>','SUBEMOJI','upload=','BAN','invild\x20\x20addressType\x20is\x20','*.loadshare.org','CF_ID','toFixed','getReader','false','write',',\x20sni:\x20','proxy-warning','dHJvamFu','URL302','DNS查询失败','sort','个IP，总计','<br>&nbsp;&nbsp;','://','ceil','text/html;\x20charset=UTF-8',',\x20alpn:\x20[h3],\x20skip-cert-verify:\x20','读取KV时发生错误:','setUint8','YWxsIGlu','mozilla','url','处理剩余数据错误:','CF_EMAIL','SHA224PASS','socks','remoteSocketToWS\x20error:','workersInvocationsAdaptive','发送HTTP\x20CONNECT请求失败:\x20','内容过大，超过KV存储限制（24MB）','?security=','aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0FDTDRTU1IvQUNMNFNTUi9tYXN0ZXIvQ2xhc2gvY29uZmlnL0FDTDRTU1JfT25saW5lX01pbmlfTXVsdGlNb2RlLmluaQ==','setHours','join','<p>未绑定KV空间</p>','byteLength','返回默认值：全部为0','data','?clash\x27,\x27qrcode_2\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','服务器错误:\x20','then','</textarea>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22save-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22back-btn\x22\x20onclick=\x22goBack()\x22>返回配置页</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22bestip-btn\x22\x20onclick=\x22goBestIP()\x22>在线优选IP</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22save-btn\x22\x20onclick=\x22saveContent(this)\x22>保存</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22save-status\x22\x20id=\x22saveStatus\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','digest','&path=','fail\x20to\x20auth\x20socks\x20server','</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SUBCONFIG（订阅转换配置文件）:\x20<a\x20href=\x27','HTTP/1.1\x20200','invalid\x20data','sent\x20socks\x20greeting','Surge订阅地址:<br><a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','includes','GraphQL查询错误:','321564gkWXwl','URL','c3BlZWQuY2xvdWRmbGFyZS5jb20=','endsWith','hostname','https://raw.githubusercontent.com/cmliu/ACL4SSR/main/baipiao.txt','4TOaozT','轮生成IP，当前已有','CF_APITOKEN','2083','unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','reduce','proxyip.','查询时间范围:\x20',';\x20expire=','*tapecontent.net','\x0a\x0a\x20\x20\x20\x20<div\x20class=\x22stats\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h2>统计信息</h2>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>您的国家：</strong><span\x20class=\x22','signal','TGTOKEN','releaseLock','未绑定KV空间','text/html;charset=utf-8','nekobox','lastIndexOf','无效的IP:端口格式:\x20','ADD','X-New-URL','readableStream\x20was\x20canceled,\x20due\x20to\x20','保存KV时发生错误:','min','toLowerCase','/sub?target=singbox&url=','workers.dev',':\x27\x20+\x20port\x20+\x20\x27/cdn-cgi/trace\x27,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20signal:\x20controller.signal,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mode:\x20\x27cors\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clearTimeout(timeoutId);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查响应状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(response.status\x20===\x20200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20latency\x20=\x20Date.now()\x20-\x20startTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20responseText\x20=\x20await\x20response.text();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20解析trace响应\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20traceData\x20=\x20parseTraceResponse(responseText);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(traceData\x20&&\x20traceData.ip\x20&&\x20traceData.colo)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20判断IP类型\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20responseIP\x20=\x20traceData.ip;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipType\x20=\x20\x27official\x27;\x20//\x20默认官方IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查是否是IPv6（包含冒号）或者IP相等\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(responseIP.includes(\x27:\x27)\x20||\x20responseIP\x20===\x20ip)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipType\x20=\x20\x27proxy\x27;\x20//\x20反代IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20如果responseIP与ip不相等且不是IPv6，则是官方IP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ip:\x20ip,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20port:\x20port,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20latency:\x20latency,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colo:\x20traceData.colo,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20type:\x20ipType,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20responseIP:\x20responseIP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20latency\x20=\x20Date.now()\x20-\x20startTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20检查是否是真正的超时（接近设定的timeout时间）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(latency\x20>=\x20timeout\x20-\x20100)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：解析trace响应的函数\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20parseTraceResponse(responseText)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20lines\x20=\x20responseText.split(\x27\x5cn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20{};\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(const\x20line\x20of\x20lines)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20trimmedLine\x20=\x20line.trim();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(trimmedLine\x20&&\x20trimmedLine.includes(\x27=\x27))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20[key,\x20value]\x20=\x20trimmedLine.split(\x27=\x27,\x202);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data[key]\x20=\x20value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20data;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27解析trace响应失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20null;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20testIPsWithConcurrency(ips,\x20port,\x20maxConcurrency\x20=\x2032)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20results\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20totalIPs\x20=\x20ips.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20completedTests\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressBar\x20=\x20document.getElementById(\x27progress-bar\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressText\x20=\x20document.getElementById(\x27progress-text\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建工作队列\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20index\x20=\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20worker()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20while\x20(index\x20<\x20ips.length)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentIndex\x20=\x20index++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ip\x20=\x20ips[currentIndex];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20result\x20=\x20await\x20testIP(ip,\x20port);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20results.push(result);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20completedTests++;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新进度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progress\x20=\x20(completedTests\x20/\x20totalIPs)\x20*\x20100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressBar.style.width\x20=\x20progress\x20+\x20\x27%\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20`${completedTests}/${totalIPs}\x20(${progress.toFixed(1)}%)\x20-\x20有效IP:\x20${results.length}`;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建工作线程\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20workers\x20=\x20Array(Math.min(maxConcurrency,\x20ips.length))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.fill()\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.map(()\x20=>\x20worker());\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20await\x20Promise.all(workers);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20results;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20startTest()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20testBtn\x20=\x20document.getElementById(\x27test-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20portSelect\x20=\x20document.getElementById(\x27port-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipSourceSelect\x20=\x20document.getElementById(\x27ip-source-select\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressBar\x20=\x20document.getElementById(\x27progress-bar\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20progressText\x20=\x20document.getElementById(\x27progress-text\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultCount\x20=\x20document.getElementById(\x27result-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipCount\x20=\x20document.getElementById(\x27ip-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectedPort\x20=\x20portSelect.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectedIPSource\x20=\x20ipSourceSelect.value;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20保存当前选择到本地存储\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.PORT,\x20selectedPort);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localStorage.setItem(StorageKeys.IP_SOURCE,\x20selectedIPSource);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27加载IP列表...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testResults\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20[];\x20//\x20重置显示结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20false;\x20//\x20重置显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDisplayType\x20=\x20\x27loading\x27;\x20//\x20设置当前显示类型\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>正在加载IP列表，请稍候...</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x20//\x20更新按钮状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20重置进度条\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressBar.style.width\x20=\x20\x270%\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20根据IP库类型显示对应的加载信息\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20ipSourceName\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20switch(selectedIPSource)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27official\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CF官方\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27cm\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CM整理\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as13335\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CF全段\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as209242\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27CF非官方\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as24429\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27Alibaba\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27as199524\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27G-Core\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20case\x20\x27proxyip\x27:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27反代IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20break;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20default:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceName\x20=\x20\x27未知\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27正在加载\x20\x27\x20+\x20ipSourceName\x20+\x20\x27\x20IP列表...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20加载IP列表\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20originalIPs\x20=\x20await\x20loadIPs(selectedIPSource,\x20selectedPort);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(originalIPs.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>加载IP列表失败，请重试</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipCount.textContent\x20=\x20\x270\x20个\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27开始延迟测试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27加载失败\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新IP数量显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipCount.textContent\x20=\x20originalIPs.length\x20+\x20\x27\x20个\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示加载的IP列表（默认显示前16个）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayLoadedIPs();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20开始测试\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27测试中...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27开始测试端口\x20\x27\x20+\x20selectedPort\x20+\x20\x27...\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDisplayType\x20=\x20\x27testing\x27;\x20//\x20切换到测试状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20在测试开始时隐藏显示更多按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20使用更高的并发数（从16增加到32）来加快测试速度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20results\x20=\x20await\x20testIPsWithConcurrency(originalIPs,\x20selectedPort,\x2032);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20按延迟排序\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testResults\x20=\x20results.sort((a,\x20b)\x20=>\x20a.latency\x20-\x20b.latency);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20显示结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20currentDisplayType\x20=\x20\x27results\x27;\x20//\x20切换到结果显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20false;\x20//\x20重置显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayResults();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建地区筛选器\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20createRegionFilter();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20testBtn.textContent\x20=\x20\x27重新测试\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20portSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipSourceSelect.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20progressText.textContent\x20=\x20\x27完成\x20-\x20有效IP:\x20\x27\x20+\x20testResults.length\x20+\x20\x27/\x27\x20+\x20originalIPs.length\x20+\x20\x27\x20(端口:\x20\x27\x20+\x20selectedPort\x20+\x20\x27,\x20IP库:\x20\x27\x20+\x20ipSourceName\x20+\x20\x27)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：加载IP列表的函数\x0a\x20\x20\x20\x20\x20\x20\x20\x20async\x20function\x20loadIPs(ipSource,\x20port)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20try\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20response\x20=\x20await\x20fetch(`?loadIPs=${ipSource}&port=${port}`,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20method:\x20\x27GET\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!response.ok)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20throw\x20new\x20Error(\x27Failed\x20to\x20load\x20IPs\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20data\x20=\x20await\x20response.json();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20data.ips\x20||\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20catch\x20(error)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27加载IP列表失败:\x27,\x20error);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayResults()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultCount\x20=\x20document.getElementById(\x27result-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreBtn\x20=\x20document.getElementById(\x27show-more-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(testResults.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>未找到有效的IP</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20[];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20确定显示数量\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20maxDisplayCount\x20=\x20showingAll\x20?\x20testResults.length\x20:\x20Math.min(testResults.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20testResults.slice(0,\x20maxDisplayCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新结果计数显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(testResults.length\x20<=\x2016)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个有效IP)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示全部\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个测试结果\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个有效IP)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示前\x20\x27\x20+\x20maxDisplayCount\x20+\x20\x27\x20个测试结果，共\x20\x27\x20+\x20testResults.length\x20+\x20\x27\x20个有效IP\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.textContent\x20=\x20showingAll\x20?\x20\x27显示更少\x27\x20:\x20\x27显示更多\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.disabled\x20=\x20false;\x20//\x20确保在结果显示时启用按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultsHTML\x20=\x20displayedResults.map(result\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20className\x20=\x20\x27good-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result.latency\x20>\x20200)\x20className\x20=\x20\x27bad-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(result.latency\x20>\x20100)\x20className\x20=\x20\x27medium-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x27<div\x20class=\x22ip-item\x20\x27\x20+\x20className\x20+\x20\x27\x22>\x27\x20+\x20result.display\x20+\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20resultsHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：创建地区筛选器\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20createRegionFilter()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20获取所有唯一的地区代码（使用cca2代码）\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20uniqueRegions\x20=\x20[...new\x20Set(testResults.map(result\x20=>\x20result.locationCode))];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniqueRegions.sort();\x20//\x20按字母顺序排序\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20filterContainer\x20=\x20document.getElementById(\x27region-filter\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(!filterContainer)\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(uniqueRegions.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterContainer.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20创建筛选按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20filterHTML\x20=\x20\x27<h3>地区筛选：</h3><div\x20class=\x22region-buttons\x22>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterHTML\x20+=\x20\x27<button\x20class=\x22region-btn\x20active\x22\x20data-region=\x22all\x22>全部\x20(\x27\x20+\x20testResults.length\x20+\x20\x27)</button>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniqueRegions.forEach(region\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20count\x20=\x20testResults.filter(r\x20=>\x20r.locationCode\x20===\x20region).length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterHTML\x20+=\x20\x27<button\x20class=\x22region-btn\x22\x20data-region=\x22\x27\x20+\x20region\x20+\x20\x27\x22>\x27\x20+\x20region\x20+\x20\x27\x20(\x27\x20+\x20count\x20+\x20\x27)</button>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterHTML\x20+=\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterContainer.innerHTML\x20=\x20filterHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filterContainer.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20添加点击事件\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.region-btn\x27).forEach(button\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20button.addEventListener(\x27click\x27,\x20function()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新活动按钮\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20document.querySelectorAll(\x27.region-btn\x27).forEach(btn\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20btn.classList.remove(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20this.classList.add(\x27active\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20筛选结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20selectedRegion\x20=\x20this.getAttribute(\x27data-region\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(selectedRegion\x20===\x20\x27all\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20[...testResults];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayedResults\x20=\x20testResults.filter(result\x20=>\x20result.locationCode\x20===\x20selectedRegion);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20重置显示状态\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showingAll\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20displayFilteredResults();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20//\x20新增：显示筛选后的结果\x0a\x20\x20\x20\x20\x20\x20\x20\x20function\x20displayFilteredResults()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipList\x20=\x20document.getElementById(\x27ip-list\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultCount\x20=\x20document.getElementById(\x27result-count\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreSection\x20=\x20document.getElementById(\x27show-more-section\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20showMoreBtn\x20=\x20document.getElementById(\x27show-more-btn\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20ipDisplayInfo\x20=\x20document.getElementById(\x27ip-display-info\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(displayedResults.length\x20===\x200)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20\x27<div\x20class=\x22ip-item\x22>未找到有效的IP</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20确定显示数量\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20maxDisplayCount\x20=\x20showingAll\x20?\x20displayedResults.length\x20:\x20Math.min(displayedResults.length,\x2016);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20currentResults\x20=\x20displayedResults.slice(0,\x20maxDisplayCount);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20更新结果计数显示\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20totalCount\x20=\x20testResults.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20filteredCount\x20=\x20displayedResults.length;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(filteredCount\x20<=\x2016)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20totalCount\x20+\x20\x27\x20个有效IP，筛选出\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示全部\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个筛选结果\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27none\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultCount.textContent\x20=\x20\x27(共测试出\x20\x27\x20+\x20totalCount\x20+\x20\x27\x20个有效IP，筛选出\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个)\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipDisplayInfo.textContent\x20=\x20\x27显示前\x20\x27\x20+\x20maxDisplayCount\x20+\x20\x27\x20个筛选结果，共\x20\x27\x20+\x20filteredCount\x20+\x20\x27\x20个\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreSection.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.textContent\x20=\x20showingAll\x20?\x20\x27显示更少\x27\x20:\x20\x27显示更多\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20showMoreBtn.disabled\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20resultsHTML\x20=\x20currentResults.map(result\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20let\x20className\x20=\x20\x27good-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(result.latency\x20>\x20200)\x20className\x20=\x20\x27bad-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20else\x20if\x20(result.latency\x20>\x20100)\x20className\x20=\x20\x27medium-latency\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20\x27<div\x20class=\x22ip-item\x20\x27\x20+\x20className\x20+\x20\x27\x22>\x27\x20+\x20result.display\x20+\x20\x27</div>\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).join(\x27\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ipList.innerHTML\x20=\x20resultsHTML;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20updateButtonStates();\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20</body>\x0a\x20\x20\x20\x20</html>\x0a\x20\x20\x20\x20','aXAuMDkwMjI3Lnh5eg==','sing-box','text/html,application/xhtml+xml,application/xml;','reject','true','loon','forEach','body','\x20个）','UA:\x20','&insert=false&config=','accounts','catch','达到最大轮次限制，停止生成','28vfexnv','通过DoH解析获取到域名:\x20','LINK','/?socks5=','最终选择账户\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SHA224:\x20','attachment;\x20filename=','&pw=','ADD（TLS优选域名&IP）:\x20<br>&nbsp;&nbsp;','优选地址','ADD.txt','&sni=','\x20到\x20','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SUBAPI（订阅转换后端）:\x20<a\x20href=\x27','some','?b64\x27,\x27qrcode_1\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://','as35916','&list=false&tfo=false&scv=','未找到账户数据','SUBCONFIG','https://api.telegram.org/bot','/version\x27\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>','\x20interval=86400\x20strict=false','EMOJI','GO2SOCKS5','pathname','解析IP行失败:\x20','split','skip-cert-verify=true,\x20ws=true,\x20ws-path=','</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_v2ray\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clash-meta<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','RPROXYIP','sub','aHR0cHM6Ly9jbG91ZGZsYXJlLWRucy5jb20vZG5zLXF1ZXJ5P25hbWU9bmlwLjA5MDIyNy54eXomdHlwZT1UWFQ=','map','?clash</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_2\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20singbox订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://','country','CFCDN（访问方式）:\x20内置兜底,\x20您也可以设置\x20proxyIP/PROXYIP\x20。<br>','</tg-spoiler>\x0a域名:\x20','aHR0cHM6Ly8xLjEuMS4xL2Rucy1xdWVyeT9uYW1lPW5hdDY0LmNtbGl1c3Nzcy5uZXQmdHlwZT1UWFQ=','fail\x20to\x20open\x20socks\x20connection','黑名单关闭\x20TCP\x20出站连接\x20','result','Error\x20fetching\x20content:\x20','匹配到','remoteSocket.readable\x20abort','test','\x27>优选订阅生成器</a>\x20至：sub.google.com，您可将\x22?sub=sub.google.com\x22参数添加到链接末尾，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;https://','redirect','PSB0cm9qYW4s','，已去重\x20','application/json','\x27\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>','Content-Type','\x20tcp','TRUE','GraphQL查询失败:\x20',';\x20total=','toISOString','warn','?security=tls&sni=','%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20','values','socks\x20server\x20version\x20error:\x20','\x27,\x27qrcode_v2ray\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>','application/dns-json','保存成功','1,40-60,30-50,tlshello','未找到IPv6地址','3158946LCmCyR','name','singbox','text','every','sec-websocket-protocol','\x20-\x20名称:\x20','no\x20acceptable\x20methods','has','.workers.dev','找不到有效的账户ID，请检查API权限','text/plain;charset=utf-8','\x0d\x0a\x0d\x0a','http','#CF随机节点','请设置你的PASSWORD变量，或尝试重试部署，检查变量是否生效？','/http://','正在获取账户信息...','websocket','Cloudflare\x20API\x20请求失败:\x20','\x20优选订阅列表:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;<strong><a\x20href=\x22javascript:void(0);\x22\x20id=\x22noticeToggle\x22\x20onclick=\x22toggleNotice()\x22>注意事项∨</a></strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22noticeContent\x22\x20class=\x22notice-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','readable','成功追加\x20','push','startsWith','统计结果\x20-\x20Pages:\x20','fill','requests','\x0a<tg-spoiler>城市:\x20','uuid','\x20通过代理\x20','search','Answer','无效的端口号:\x20','Bearer\x20','please\x20provide\x20username/password','value','HTTP代理连接中断','/socks5=','5714055scOVKH','反代IP列表解析完成，端口','&alpn=h3&fp=','/sub?target=surge&ver=4&url=','?sub=sub.google.com<strong>&</strong>proxyip=proxyip.cmliussss.net<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script\x20src=\x22https://cdn.jsdelivr.net/npm/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js\x22></script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20copyToClipboard(text,\x20qrcode)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20navigator.clipboard.writeText(text).then(()\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20alert(\x27已复制到剪贴板\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}).catch(err\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20console.error(\x27复制失败:\x27,\x20err);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20qrcodeDiv\x20=\x20document.getElementById(qrcode);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20qrcodeDiv.innerHTML\x20=\x20\x27\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20new\x20QRCode(qrcodeDiv,\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text:\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20220,\x20//\x20调整宽度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20220,\x20//\x20调整高度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorDark:\x20\x22#000000\x22,\x20//\x20二维码颜色\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20colorLight:\x20\x22#ffffff\x22,\x20//\x20背景颜色\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20correctLevel:\x20QRCode.CorrectLevel.Q,\x20//\x20设置纠错级别\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scale:\x201\x20//\x20调整像素颗粒度\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20});\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20function\x20toggleNotice()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeContent\x20=\x20document.getElementById(\x27noticeContent\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20noticeToggle\x20=\x20document.getElementById(\x27noticeToggle\x27);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(noticeContent.style.display\x20===\x20\x27none\x27)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27block\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27实用订阅技巧∧\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeContent.style.display\x20=\x20\x27none\x27;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20noticeToggle.textContent\x20=\x20\x27实用订阅技巧∨\x27;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</script>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ips','&list=false&xudp=false&udp=false&tfo=false&expand=true&scv=','</div>','remoteSocket.readable\x20is\x20closed,\x20hasIncomingData:\x20','proxyip','\x0a国家:\x20','status','\x20个新的优选IP（原有\x20','https://raw.githubusercontent.com/ipverse/asn-ip/master/as/209242/ipv4-aggregated.txt','U1VCQVBJLkNNTGl1c3Nzcy5uZXQ=','1580025QPCLzd','<br>','/pyip='];_0xd3d0=function(){return _0x5d1f72;};return _0xd3d0();}function revertFakeInfo(_0x4e0cef,_0x1b9ef5,_0x4c7eac,_0x3cda16,_0x582132,_0x54992d){const _0x1417e8=_0x50ca29;if(_0x54992d)_0x4e0cef=atob(_0x4e0cef);_0x4e0cef=_0x4e0cef[_0x1417e8(0x2d5)](new RegExp(_0x3cda16,'g'),_0x1b9ef5)[_0x1417e8(0x2d5)](new RegExp(_0x582132,'g'),_0x4c7eac);if(_0x54992d)_0x4e0cef=btoa(_0x4e0cef);return _0x4e0cef;}async function MD5MD5(_0x5e3790){const _0x4b8dd9=_0x50ca29,_0x17dc73=new TextEncoder(),_0x26f9d8=await crypto[_0x4b8dd9(0x2f2)][_0x4b8dd9(0x16d)]('MD5',_0x17dc73[_0x4b8dd9(0x269)](_0x5e3790)),_0x458fb8=Array[_0x4b8dd9(0x308)](new Uint8Array(_0x26f9d8)),_0x559220=_0x458fb8['map'](_0x138e7a=>_0x138e7a['toString'](0x10)['padStart'](0x2,'0'))[_0x4b8dd9(0x164)](''),_0x310283=await crypto[_0x4b8dd9(0x2f2)][_0x4b8dd9(0x16d)](_0x4b8dd9(0x2ae),_0x17dc73[_0x4b8dd9(0x269)](_0x559220['slice'](0x7,0x1b))),_0x3e000a=Array[_0x4b8dd9(0x308)](new Uint8Array(_0x310283)),_0x3efc4e=_0x3e000a[_0x4b8dd9(0x1c8)](_0x369837=>_0x369837[_0x4b8dd9(0x2df)](0x10)[_0x4b8dd9(0x241)](0x2,'0'))[_0x4b8dd9(0x164)]('');return _0x3efc4e[_0x4b8dd9(0x195)]();}async function ADD(_0x28ef3e){const _0x141960=_0x50ca29;var _0x33507c=_0x28ef3e['replace'](/[	"'\r\n]+/g,',')['replace'](/,+/g,',');if(_0x33507c[_0x141960(0x2c9)](0x0)==',')_0x33507c=_0x33507c['slice'](0x1);if(_0x33507c[_0x141960(0x2c9)](_0x33507c[_0x141960(0x289)]-0x1)==',')_0x33507c=_0x33507c['slice'](0x0,_0x33507c[_0x141960(0x289)]-0x1);const _0x296b6f=_0x33507c[_0x141960(0x1c2)](',');return _0x296b6f;}async function proxyURL(_0x4f91b9,_0x2a0457){const _0x5acb39=_0x50ca29,_0x4cd0d0=await ADD(_0x4f91b9),_0x51cd43=_0x4cd0d0[Math[_0x5acb39(0x22a)](Math[_0x5acb39(0x281)]()*_0x4cd0d0['length'])];let _0x2dd2be=new URL(_0x51cd43);console[_0x5acb39(0x276)](_0x2dd2be);let _0x596a1e=_0x2dd2be[_0x5acb39(0x2cd)]['slice'](0x0,-0x1)||'https',_0x155ce1=_0x2dd2be['hostname'],_0x36ce2b=_0x2dd2be[_0x5acb39(0x1c0)],_0x36a49d=_0x2dd2be[_0x5acb39(0x20a)];_0x36ce2b[_0x5acb39(0x2c9)](_0x36ce2b['length']-0x1)=='/'&&(_0x36ce2b=_0x36ce2b[_0x5acb39(0x290)](0x0,-0x1));_0x36ce2b+=_0x2a0457[_0x5acb39(0x1c0)];let _0xcab693=_0x596a1e+'://'+_0x155ce1+_0x36ce2b+_0x36a49d,_0x855e8b=await fetch(_0xcab693),_0xd36883=new Response(_0x855e8b[_0x5acb39(0x1a0)],{'status':_0x855e8b[_0x5acb39(0x21d)],'statusText':_0x855e8b[_0x5acb39(0x28b)],'headers':_0x855e8b[_0x5acb39(0x319)]});return _0xd36883[_0x5acb39(0x319)][_0x5acb39(0x22f)](_0x5acb39(0x191),_0xcab693),_0xd36883;}function 配置信息(_0x2338e8,_0x3dfa86){const _0x3d7523=_0x50ca29,_0x4c8e0d='dHJvamFu',_0x1b2330=atob(_0x4c8e0d),_0x1c4774=FileName;let _0x2c2b88=_0x3dfa86,_0x1ae4d6=0x1bb;const _0x390a8c='ws',_0x47352b=_0x3dfa86,_0x29ff69=path;let _0x141d97=['tls',!![]];const _0x536130=_0x3dfa86,_0x5bd9df=_0x3d7523(0x285),_0xf1fb0f=_0x1b2330+_0x3d7523(0x150)+encodeURIComponent(_0x2338e8)+'@'+_0x2c2b88+':'+_0x1ae4d6+_0x3d7523(0x161)+_0x141d97[0x0]+_0x3d7523(0x1b2)+_0x536130+_0x3d7523(0x214)+_0x5bd9df+_0x3d7523(0x2e3)+_0x390a8c+_0x3d7523(0x246)+_0x47352b+'&path='+(encodeURIComponent(_0x29ff69)+allowInsecure)+_0x3d7523(0x2ff)+encodeURIComponent(_0x3d7523(0x1e9))+'#'+encodeURIComponent(_0x1c4774),_0x1aa9dd=_0x3d7523(0x2a6)+_0x1c4774+_0x3d7523(0x30b)+_0x2c2b88+',\x20port:\x20'+_0x1ae4d6+_0x3d7523(0x320)+_0x5bd9df+',\x20type:\x20'+_0x1b2330+_0x3d7523(0x257)+_0x2338e8+_0x3d7523(0x148)+_0x536130+_0x3d7523(0x153)+SCV+_0x3d7523(0x293)+_0x390a8c+_0x3d7523(0x29a)+_0x29ff69+'\x22,\x20headers:\x20{Host:\x20'+_0x47352b+_0x3d7523(0x2cc);return[_0xf1fb0f,_0x1aa9dd];}let subParams=[_0x50ca29(0x1c6),_0x50ca29(0x268),_0x50ca29(0x255),_0x50ca29(0x326),_0x50ca29(0x1ed),'sb','surge'];const cmad=decodeURIComponent(atob(_0x50ca29(0x299)));async function get特洛伊Config(_0x4b0aec,_0x161063,_0x520ae4,_0x24d999,_0x3ce0d9,_0x21c881,_0x573830,_0x448547,_0x233113){const _0x57765c=_0x50ca29;if(_0x520ae4){const _0x26d3c4=_0x520ae4[_0x57765c(0x231)](/^(?:https?:\/\/)?([^\/]+)/);_0x26d3c4&&(_0x520ae4=_0x26d3c4[0x1]);const _0x1eca1b=await ADD(_0x520ae4);if(_0x1eca1b[_0x57765c(0x289)]>0x1)_0x520ae4=_0x1eca1b[0x0];}else{if(_0x233113['KV']){await 迁移地址列表(_0x233113);const _0x1b5b72=await _0x233113['KV'][_0x57765c(0x267)](_0x57765c(0x1b1));if(_0x1b5b72){const _0x43bd38=await ADD(_0x1b5b72),_0x1a178e={'接口地址':new Set(),'链接地址':new Set(),'优选地址':new Set()};for(const _0x59d137 of _0x43bd38){if(_0x59d137[_0x57765c(0x203)](_0x57765c(0x2b7)))_0x1a178e[_0x57765c(0x27a)][_0x57765c(0x30e)](_0x59d137);else _0x59d137[_0x57765c(0x175)](_0x57765c(0x150))?_0x1a178e['链接地址'][_0x57765c(0x30e)](_0x59d137):_0x1a178e[_0x57765c(0x1b0)][_0x57765c(0x30e)](_0x59d137);}addressesapi=[..._0x1a178e[_0x57765c(0x27a)]],link=[..._0x1a178e[_0x57765c(0x2bd)]],addresses=[..._0x1a178e[_0x57765c(0x1b0)]];}}if(addresses[_0x57765c(0x289)]+addressesapi[_0x57765c(0x289)]+addressescsv['length']==0x0){let _0x226688=[_0x57765c(0x284)];try{const _0x1feb6d=await fetch('https://raw.githubusercontent.com/cmliu/cmliu/main/CF-CIDR.txt');if(_0x1feb6d['ok']){const _0x41e979=await _0x1feb6d[_0x57765c(0x1ee)]();_0x226688=await ADD(_0x41e979);}}catch(_0x319ddb){console['log'](_0x57765c(0x29b),_0x319ddb);}function _0x4d2d47(_0x51ee6a){const _0xbb9c9a=_0x57765c,[_0x338255,_0x1e67b6]=_0x51ee6a['split']('/'),_0x426804=_0x338255[_0xbb9c9a(0x1c2)]('.')[_0xbb9c9a(0x1c8)](Number),_0x566759=0x20-parseInt(_0x1e67b6,0xa),_0x23ad33=Math['pow'](0x2,_0x566759)-0x1,_0x115e3e=Math[_0xbb9c9a(0x22a)](Math[_0xbb9c9a(0x281)]()*_0x23ad33),_0x3e323c=_0x426804[_0xbb9c9a(0x1c8)]((_0x51e52d,_0x7ce1aa)=>{if(_0x7ce1aa<0x2)return _0x51e52d;if(_0x7ce1aa===0x2)return(_0x51e52d&0xff<<_0x566759-0x8)+(_0x115e3e>>0x8&0xff);return(_0x51e52d&0xff<<_0x566759)+(_0x115e3e&0xff);});return _0x3e323c['join']('.');}addresses=addresses[_0x57765c(0x2ca)](_0x57765c(0x22e));let _0x1fedeb=0x1;const _0x26db25=httpsPorts[_0x57765c(0x2ca)](_0x57765c(0x224));addresses=addresses[_0x57765c(0x2ca)](_0x226688[_0x57765c(0x1c8)](_0x563b54=>_0x4d2d47(_0x563b54)+':'+_0x26db25[Math[_0x57765c(0x22a)](Math['random']()*_0x26db25['length'])]+_0x57765c(0x1f9)+String(_0x1fedeb++)[_0x57765c(0x241)](0x2,'0')));}}const _0x448977=_0x24d999['toLowerCase'](),_0x316f9a=配置信息(_0x4b0aec,_0x161063),_0x409c3d=_0x316f9a[0x0],_0x2b2013=_0x316f9a[0x1];let _0x1e0b68='';if(_0x161063[_0x57765c(0x175)](_0x57765c(0x1f4))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x57765c(0x289)]==0x0))try{const _0x2130dd=await fetch(proxyhostsURL);if(!_0x2130dd['ok']){console[_0x57765c(0x2ee)](_0x57765c(0x282),_0x2130dd[_0x57765c(0x21d)],_0x2130dd[_0x57765c(0x28b)]);return;}const _0x3ee72=await _0x2130dd[_0x57765c(0x1ee)](),_0x3842d8=_0x3ee72[_0x57765c(0x1c2)]('\x0a'),_0x162239=_0x3842d8[_0x57765c(0x28f)](_0x3b6a4a=>_0x3b6a4a[_0x57765c(0x2ea)]()!=='');proxyhosts=proxyhosts[_0x57765c(0x2ca)](_0x162239);}catch(_0x4831ac){}if(proxyhosts[_0x57765c(0x289)]!=0x0)_0x1e0b68=proxyhosts[Math[_0x57765c(0x22a)](Math[_0x57765c(0x281)]()*proxyhosts[_0x57765c(0x289)])]+'/';}if(_0x448977[_0x57765c(0x175)]('mozilla')&&!subParams[_0x57765c(0x1b5)](_0x1c503a=>_0x21c881[_0x57765c(0x280)]['has'](_0x1c503a))){let _0xcf1712=_0x57765c(0x174)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x28a)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x2ec);if(_0x161063[_0x57765c(0x175)](_0x57765c(0x1f4)))_0xcf1712=_0x57765c(0x274);const _0x2970ab=socks5s[_0x57765c(0x1c8)](_0x34a684=>{const _0x19cc74=_0x57765c;if(_0x34a684[_0x19cc74(0x175)]('@'))return _0x34a684['split']('@')[0x1];else{if(_0x34a684[_0x19cc74(0x175)]('//'))return _0x34a684['split']('//')[0x1];else return _0x34a684;}});let _0x219e62='';if(go2Socks5s[_0x57765c(0x289)]>0x0&&enableSocks){_0x219e62=''+((enableHttp?_0x57765c(0x301):_0x57765c(0x29d))+decodeURIComponent(_0x57765c(0x1e3)));if(go2Socks5s['includes'](atob(_0x57765c(0x156)))||go2Socks5s[_0x57765c(0x175)](atob('Kg==')))_0x219e62+=decodeURIComponent(_0x57765c(0x23c))+_0x57765c(0x222);else _0x219e62+=_0x57765c(0x14f)+go2Socks5s[_0x57765c(0x164)](_0x57765c(0x14f))+_0x57765c(0x222);}let _0x1bc746='';if(_0x520ae4){if(enableSocks)_0x1bc746+=_0x57765c(0x2c7)+(enableHttp?_0x57765c(0x301):'Socks5')+'<br>&nbsp;&nbsp;'+_0x2970ab['join']('<br>&nbsp;&nbsp;')+_0x57765c(0x222)+_0x219e62;else{if(proxyIP&&proxyIP!='')_0x1bc746+=_0x57765c(0x237)+proxyIPs[_0x57765c(0x164)](_0x57765c(0x14f))+_0x57765c(0x222);else{if(_0x3ce0d9==_0x57765c(0x19d))_0x1bc746+='CFCDN（访问方式）:\x20自动获取ProxyIP<br>';else _0x1bc746+=_0x57765c(0x1cb);}}_0x1bc746+='<br>SUB（优选订阅生成器）:\x20'+_0x520ae4;}else{if(enableSocks)_0x1bc746+=_0x57765c(0x2c7)+(enableHttp?'HTTP':'Socks5')+_0x57765c(0x14f)+_0x2970ab[_0x57765c(0x164)](_0x57765c(0x14f))+_0x57765c(0x222)+_0x219e62;else{if(proxyIP&&proxyIP!='')_0x1bc746+=_0x57765c(0x237)+proxyIPs[_0x57765c(0x164)](_0x57765c(0x14f))+_0x57765c(0x222);else _0x1bc746+=_0x57765c(0x1cb);}let _0x47d76b='';if(_0x233113['KV'])_0x47d76b=_0x57765c(0x327)+_0x21c881[_0x57765c(0x1c0)]+'/edit\x27>编辑优选列表</a>]\x20\x20[<a\x20href=\x27'+_0x21c881[_0x57765c(0x1c0)]+_0x57765c(0x2d3);_0x1bc746+=_0x57765c(0x32c)+_0x47d76b+_0x57765c(0x222);if(addresses[_0x57765c(0x289)]>0x0)_0x1bc746+=_0x57765c(0x1af)+addresses['join'](_0x57765c(0x14f))+'<br>';if(addressesapi['length']>0x0)_0x1bc746+='ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20<br>&nbsp;&nbsp;'+addressesapi[_0x57765c(0x164)](_0x57765c(0x14f))+_0x57765c(0x222);if(addressescsv['length']>0x0)_0x1bc746+='ADDCSV（IPTest测速csv文件\x20限速\x20'+DLS+_0x57765c(0x316)+addressescsv[_0x57765c(0x164)](_0x57765c(0x14f))+_0x57765c(0x222);}const _0x1e6f56='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Subscribe\x20/\x20sub\x20订阅地址,\x20点击链接自动\x20<strong>复制订阅链接</strong>\x20并\x20<strong>生成订阅二维码</strong>\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20自适应订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://'+_0x1e0b68+_0x161063+'/'+_0x4b0aec+'?sub\x27,\x27qrcode_0\x27)\x22\x20style=\x22color:blue;text-decoration:underline;cursor:pointer;\x22>https://'+_0x1e0b68+_0x161063+'/'+_0x4b0aec+'</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_0\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Base64订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://'+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x1b6)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+'?b64</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_1\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20clash订阅地址:<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27https://'+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x169)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x1c9)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x23a)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x26a)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x245)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+'?loon</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22qrcode_5\x22\x20style=\x22margin:\x2010px\x2010px\x2010px\x2010px;\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xcf1712+_0x57765c(0x260)+atob(_0x57765c(0x27b))+_0x57765c(0x1d5)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x292)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+'<strong>?proxyip=proxyip.cmliussss.net:443</strong><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>5.</strong>\x20快速更换\x20SOCKS5\x20至：user:password@127.0.0.1:1080，您可将\x22?socks5=user:password@127.0.0.1:1080\x22参数添加到链接末尾，例如：<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20&nbsp;&nbsp;https://'+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x26d)+_0x1e0b68+_0x161063+'/'+_0x4b0aec+_0x57765c(0x216)+FileName+_0x57765c(0x329)+_0x161063+_0x57765c(0x26b)+_0x4b0aec+_0x57765c(0x1ac)+sha224Password+_0x57765c(0x30d)+_0x573830+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20UA:\x20'+_0x24d999+_0x57765c(0x2e4)+SCV+_0x57765c(0x297)+_0x1bc746+_0x57765c(0x1b4)+subProtocol+_0x57765c(0x150)+subConverter+_0x57765c(0x1bc)+subProtocol+_0x57765c(0x150)+subConverter+_0x57765c(0x170)+subConfig+_0x57765c(0x1da)+subConfig+'</a><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20################################################################<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20v2ray<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20---------------------------------------------------------------<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20href=\x22javascript:void(0)\x22\x20onclick=\x22copyToClipboard(\x27'+_0x409c3d+_0x57765c(0x1e6)+_0x409c3d+_0x57765c(0x1c4)+_0x2b2013+_0x57765c(0x273)+cmad+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';return _0x57765c(0x2e5)+_0x1e6f56+_0x57765c(0x219);}else{if(typeof fetch!=_0x57765c(0x2f7))return'Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.';_0x161063[_0x57765c(0x175)](_0x57765c(0x1f4))?_0x448547=_0x448547+_0x57765c(0x1f4):_0x448547=_0x448547+_0x57765c(0x321);let _0x44c0ea=_0x57765c(0x2b7)+_0x520ae4+_0x57765c(0x32a)+_0x448547+_0x57765c(0x1ae)+_0x573830+'&password='+(_0x573830+atob('JmVwZWl1cz1jbWxpdSZwcm94eWlwPQ==')+_0x3ce0d9)+_0x57765c(0x16e)+encodeURIComponent(path),_0x249dd0=!![],_0x4d0358=[],_0x5b7b6f=[];if(!_0x520ae4||_0x520ae4==''){if(_0x161063[_0x57765c(0x175)](_0x57765c(0x197))){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x57765c(0x289)]==0x0))try{const _0x569314=await fetch(proxyhostsURL);if(!_0x569314['ok']){console[_0x57765c(0x2ee)](_0x57765c(0x282),_0x569314[_0x57765c(0x21d)],_0x569314[_0x57765c(0x28b)]);return;}const _0x436df4=await _0x569314[_0x57765c(0x1ee)](),_0x48844e=_0x436df4[_0x57765c(0x1c2)]('\x0a'),_0x40ef91=_0x48844e[_0x57765c(0x28f)](_0xa95cb7=>_0xa95cb7[_0x57765c(0x2ea)]()!=='');proxyhosts=proxyhosts[_0x57765c(0x2ca)](_0x40ef91);}catch(_0x5871e1){console['error'](_0x57765c(0x282),_0x5871e1);}proxyhosts=[...new Set(proxyhosts)];}_0x4d0358=await getAddressesapi(addressesapi),_0x5b7b6f=await getAddressescsv(_0x57765c(0x1dd)),_0x44c0ea='https://'+_0x161063+'/'+(_0x573830+_0x21c881[_0x57765c(0x20a)]);}if(_0x448977['includes'](_0x57765c(0x27c)[_0x57765c(0x195)]())||_0x21c881[_0x57765c(0x280)][_0x57765c(0x1f3)](_0x57765c(0x255))||_0x21c881[_0x57765c(0x280)][_0x57765c(0x1f3)](_0x57765c(0x268))||_0x448977[_0x57765c(0x175)]('subconverter'))_0x249dd0=!![];else{if(_0x448977['includes'](_0x57765c(0x326))&&!_0x448977[_0x57765c(0x175)](_0x57765c(0x18d))||_0x21c881['searchParams'][_0x57765c(0x1f3)](_0x57765c(0x326)))_0x44c0ea=subProtocol+_0x57765c(0x150)+subConverter+_0x57765c(0x31f)+encodeURIComponent(_0x44c0ea)+_0x57765c(0x1a3)+encodeURIComponent(subConfig)+_0x57765c(0x28c)+subEmoji+_0x57765c(0x1b8)+SCV+'&fdn=false&sort=false&new_name=true',_0x249dd0=![];else{if(_0x448977[_0x57765c(0x175)](_0x57765c(0x19a))||_0x448977[_0x57765c(0x175)]('singbox')||_0x21c881[_0x57765c(0x280)][_0x57765c(0x1f3)]('singbox')||_0x21c881['searchParams'][_0x57765c(0x1f3)]('sb'))_0x44c0ea=subProtocol+'://'+subConverter+_0x57765c(0x196)+encodeURIComponent(_0x44c0ea)+'&insert=false&config='+encodeURIComponent(subConfig)+_0x57765c(0x28c)+subEmoji+_0x57765c(0x1b8)+SCV+'&fdn=false&sort=false&new_name=true',_0x249dd0=![];else{if(_0x448977[_0x57765c(0x175)](_0x57765c(0x244))||_0x21c881['searchParams'][_0x57765c(0x1f3)](_0x57765c(0x244)))_0x44c0ea=subProtocol+_0x57765c(0x150)+subConverter+_0x57765c(0x215)+encodeURIComponent(_0x44c0ea)+_0x57765c(0x1a3)+encodeURIComponent(subConfig)+'&emoji='+subEmoji+_0x57765c(0x218)+SCV+_0x57765c(0x24c),_0x249dd0=![];else(_0x448977['includes'](_0x57765c(0x19e))||_0x21c881[_0x57765c(0x280)][_0x57765c(0x1f3)](_0x57765c(0x19e)))&&(_0x44c0ea=subProtocol+_0x57765c(0x150)+subConverter+_0x57765c(0x2fa)+encodeURIComponent(_0x44c0ea)+_0x57765c(0x1a3)+encodeURIComponent(subConfig)+_0x57765c(0x28c)+subEmoji+'&list=false&tfo=false&scv='+SCV+_0x57765c(0x240),_0x249dd0=![]);}}}try{let _0x55ae95;if((!_0x520ae4||_0x520ae4=='')&&_0x249dd0==!![])_0x55ae95=await subAddresses(_0x448547,_0x573830,_0x448977,_0x4d0358,_0x5b7b6f);else{const _0x4fdbc6=await fetch(_0x44c0ea,{'headers':{'User-Agent':_0x57765c(0x287)+atob(_0x57765c(0x311))}});_0x55ae95=await _0x4fdbc6[_0x57765c(0x1ee)]();}if(_0x21c881[_0x57765c(0x1c0)]=='/'+_0x573830)return _0x55ae95;_0x55ae95=revertFakeInfo(_0x55ae95,_0x4b0aec,_0x161063,_0x573830,_0x448547,_0x249dd0);if(_0x448977[_0x57765c(0x175)](_0x57765c(0x244))||_0x21c881[_0x57765c(0x280)][_0x57765c(0x1f3)]('surge'))_0x55ae95=surge(_0x55ae95,_0x57765c(0x2b7)+_0x161063+'/'+_0x4b0aec+_0x57765c(0x2d1));return _0x55ae95;}catch(_0x43c8ef){return console['error']('Error\x20fetching\x20content:',_0x43c8ef),_0x57765c(0x1d1)+_0x43c8ef[_0x57765c(0x2f6)];}}}async function sendMessage(_0x3e1659,_0x36d2fd,_0x4a8e87=''){const _0x131fc6=_0x50ca29;if(BotToken!==''&&ChatID!==''){let _0x1e65ee='';const _0x182322=await fetch(_0x131fc6(0x271)+_0x36d2fd+'?lang=zh-CN');if(_0x182322[_0x131fc6(0x21d)]==0xc8){const _0x2827c3=await _0x182322[_0x131fc6(0x2b2)]();_0x1e65ee=_0x3e1659+_0x131fc6(0x2da)+_0x36d2fd+_0x131fc6(0x21c)+_0x2827c3[_0x131fc6(0x1ca)]+_0x131fc6(0x207)+_0x2827c3[_0x131fc6(0x2db)]+_0x131fc6(0x251)+_0x2827c3[_0x131fc6(0x2d6)]+_0x131fc6(0x2dc)+_0x2827c3['as']+'\x0a'+_0x4a8e87;}else _0x1e65ee=_0x3e1659+_0x131fc6(0x2da)+_0x36d2fd+_0x131fc6(0x2a3)+_0x4a8e87;let _0xfa3b38=_0x131fc6(0x1bb)+BotToken+'/sendMessage?chat_id='+ChatID+_0x131fc6(0x24f)+encodeURIComponent(_0x1e65ee);return fetch(_0xfa3b38,{'method':'get','headers':{'Accept':_0x131fc6(0x19b),'Accept-Encoding':_0x131fc6(0x25a),'User-Agent':'Mozilla/5.0\x20Chrome/90.0.4430.72'}});}}async function socks5Connect(_0x58c131,_0x3a7973,_0x1b9994,_0x37e0ab){const _0x3647f4=_0x50ca29,{username:_0x1cd97a,password:_0x3f291b,hostname:_0x14a3db,port:_0x9f3c53}=parsedSocks5Address,_0x142a38=connect({'hostname':_0x14a3db,'port':_0x9f3c53}),_0x67559a=new Uint8Array([0x5,0x2,0x0,0x2]),_0x317204=_0x142a38['writable'][_0x3647f4(0x31e)]();await _0x317204[_0x3647f4(0x147)](_0x67559a),_0x37e0ab(_0x3647f4(0x173));const _0x290e84=_0x142a38['readable']['getReader'](),_0x17f553=new TextEncoder();let _0x3b1887=(await _0x290e84[_0x3647f4(0x2b4)]())[_0x3647f4(0x20f)];if(_0x3b1887[0x0]!==0x5){_0x37e0ab(_0x3647f4(0x1e5)+_0x3b1887[0x0]+'\x20expected:\x205');return;}if(_0x3b1887[0x1]===0xff){_0x37e0ab(_0x3647f4(0x1f2));return;}if(_0x3b1887[0x1]===0x2){_0x37e0ab(_0x3647f4(0x264));if(!_0x1cd97a||!_0x3f291b){_0x37e0ab(_0x3647f4(0x20e));return;}const _0x29a259=new Uint8Array([0x1,_0x1cd97a[_0x3647f4(0x289)],..._0x17f553['encode'](_0x1cd97a),_0x3f291b['length'],..._0x17f553[_0x3647f4(0x269)](_0x3f291b)]);await _0x317204['write'](_0x29a259),_0x3b1887=(await _0x290e84[_0x3647f4(0x2b4)]())[_0x3647f4(0x20f)];if(_0x3b1887[0x0]!==0x1||_0x3b1887[0x1]!==0x0){_0x37e0ab(_0x3647f4(0x16f));return;}}let _0x257cff;switch(_0x58c131){case 0x1:_0x257cff=new Uint8Array([0x1,..._0x3a7973[_0x3647f4(0x1c2)]('.')['map'](Number)]);break;case 0x3:_0x257cff=new Uint8Array([0x3,_0x3a7973['length'],..._0x17f553[_0x3647f4(0x269)](_0x3a7973)]);break;case 0x4:_0x257cff=new Uint8Array([0x4,..._0x3a7973['split'](':')['flatMap'](_0x2a3197=>[parseInt(_0x2a3197[_0x3647f4(0x290)](0x0,0x2),0x10),parseInt(_0x2a3197[_0x3647f4(0x290)](0x2),0x10)])]);break;default:_0x37e0ab(_0x3647f4(0x141)+_0x58c131);return;}const _0x4c015b=new Uint8Array([0x5,0x1,0x0,..._0x257cff,_0x1b9994>>0x8,_0x1b9994&0xff]);await _0x317204[_0x3647f4(0x147)](_0x4c015b),_0x37e0ab('sent\x20socks\x20request'),_0x3b1887=(await _0x290e84[_0x3647f4(0x2b4)]())[_0x3647f4(0x20f)];if(_0x3b1887[0x1]===0x0)_0x37e0ab(_0x3647f4(0x31b));else{_0x37e0ab(_0x3647f4(0x1ce));return;}return _0x317204[_0x3647f4(0x18a)](),_0x290e84[_0x3647f4(0x18a)](),_0x142a38;}async function httpConnect(_0x4ec553,_0x1a7f0d,_0x1473ad){const _0x4afe06=_0x50ca29,{username:_0x8bcc64,password:_0xf3a9fc,hostname:_0x58fe04,port:_0x1dad3c}=parsedSocks5Address,_0x36d715=await connect({'hostname':_0x58fe04,'port':_0x1dad3c});let _0x3290cf=_0x4afe06(0x31d)+_0x4ec553+':'+_0x1a7f0d+'\x20HTTP/1.1\x0d\x0a';_0x3290cf+=_0x4afe06(0x328)+_0x4ec553+':'+_0x1a7f0d+'\x0d\x0a';if(_0x8bcc64&&_0xf3a9fc){const _0x20e6e1=_0x8bcc64+':'+_0xf3a9fc,_0x3bffad=btoa(_0x20e6e1);_0x3290cf+=_0x4afe06(0x30a)+_0x3bffad+'\x0d\x0a';}_0x3290cf+=_0x4afe06(0x27d),_0x3290cf+='Proxy-Connection:\x20Keep-Alive\x0d\x0a',_0x3290cf+=_0x4afe06(0x2f9),_0x3290cf+='\x0d\x0a',_0x1473ad('正在连接到\x20'+_0x4ec553+':'+_0x1a7f0d+_0x4afe06(0x209)+_0x58fe04+':'+_0x1dad3c);try{const _0x3b8278=_0x36d715[_0x4afe06(0x306)][_0x4afe06(0x31e)]();await _0x3b8278['write'](new TextEncoder()[_0x4afe06(0x269)](_0x3290cf)),_0x3b8278[_0x4afe06(0x18a)]();}catch(_0x40e774){console[_0x4afe06(0x2ee)](_0x4afe06(0x2d9),_0x40e774);throw new Error(_0x4afe06(0x15f)+_0x40e774[_0x4afe06(0x2f6)]);}const _0x295659=_0x36d715[_0x4afe06(0x200)][_0x4afe06(0x145)]();let _0x665c20='',_0x24439b=![],_0x482eee=new Uint8Array(0x0);try{while(!![]){const {value:_0x291618,done:_0x501b67}=await _0x295659[_0x4afe06(0x2b4)]();if(_0x501b67){console['error'](_0x4afe06(0x210));throw new Error(_0x4afe06(0x210));}const _0x3410dd=new Uint8Array(_0x482eee['length']+_0x291618[_0x4afe06(0x289)]);_0x3410dd[_0x4afe06(0x22f)](_0x482eee),_0x3410dd['set'](_0x291618,_0x482eee[_0x4afe06(0x289)]),_0x482eee=_0x3410dd,_0x665c20=new TextDecoder()['decode'](_0x482eee);if(_0x665c20[_0x4afe06(0x175)](_0x4afe06(0x1f7))){const _0x6b5413=_0x665c20['indexOf'](_0x4afe06(0x1f7))+0x4,_0x293a23=_0x665c20[_0x4afe06(0x259)](0x0,_0x6b5413);_0x1473ad(_0x4afe06(0x248)+_0x293a23[_0x4afe06(0x1c2)]('\x0d\x0a')[0x0]);if(_0x293a23[_0x4afe06(0x203)](_0x4afe06(0x171))||_0x293a23['startsWith'](_0x4afe06(0x2dd))){_0x24439b=!![];if(_0x6b5413<_0x482eee[_0x4afe06(0x289)]){const _0x38be20=_0x482eee[_0x4afe06(0x290)](_0x6b5413),_0x43b582=new ReadableStream({'start'(_0x53249a){const _0x2744b3=_0x4afe06;_0x53249a[_0x2744b3(0x2b5)](_0x38be20);}}),{readable:_0x3aebdc,writable:_0xeab813}=new TransformStream();_0x43b582['pipeTo'](_0xeab813)['catch'](_0x4b9777=>console[_0x4afe06(0x2ee)](_0x4afe06(0x159),_0x4b9777)),_0x36d715[_0x4afe06(0x200)]=_0x3aebdc;}}else{const _0x2d9512='HTTP代理连接失败:\x20'+_0x293a23['split']('\x0d\x0a')[0x0];console[_0x4afe06(0x2ee)](_0x2d9512);throw new Error(_0x2d9512);}break;}}}catch(_0xe2a5a1){_0x295659[_0x4afe06(0x18a)]();throw new Error('处理HTTP代理响应失败:\x20'+_0xe2a5a1[_0x4afe06(0x2f6)]);}_0x295659[_0x4afe06(0x18a)]();if(!_0x24439b)throw new Error(_0x4afe06(0x313));return _0x1473ad(_0x4afe06(0x323)+_0x4ec553+':'+_0x1a7f0d),_0x36d715;}function socks5AddressParser(_0x45aef8){const _0x5939cd=_0x50ca29,_0x1c72b0=_0x45aef8['lastIndexOf']('@');let [_0x3c42e5,_0x542b47]=_0x1c72b0===-0x1?[_0x45aef8,undefined]:[_0x45aef8[_0x5939cd(0x259)](_0x1c72b0+0x1),_0x45aef8[_0x5939cd(0x259)](0x0,_0x1c72b0)],_0x28adfe,_0x4ad813,_0x4fffd4,_0x4e016f;if(_0x542b47){const _0x27fab7=_0x542b47['split'](':');if(_0x27fab7['length']!==0x2)throw new Error('无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式');[_0x28adfe,_0x4ad813]=_0x27fab7;}const _0xe80d52=_0x3c42e5[_0x5939cd(0x1c2)](':');if(_0xe80d52[_0x5939cd(0x289)]>0x2&&_0x3c42e5[_0x5939cd(0x175)](']:'))_0x4e016f=Number(_0x3c42e5[_0x5939cd(0x1c2)](']:')[0x1][_0x5939cd(0x2d5)](/[^\d]/g,'')),_0x4fffd4=_0x3c42e5[_0x5939cd(0x1c2)](']:')[0x0]+']';else _0xe80d52[_0x5939cd(0x289)]===0x2?(_0x4e016f=Number(_0xe80d52[_0x5939cd(0x256)]()[_0x5939cd(0x2d5)](/[^\d]/g,'')),_0x4fffd4=_0xe80d52['join'](':')):(_0x4e016f=0x50,_0x4fffd4=_0x3c42e5);if(isNaN(_0x4e016f))throw new Error(_0x5939cd(0x2c8));const _0x129c6d=/^\[.*\]$/;if(_0x4fffd4[_0x5939cd(0x175)](':')&&!_0x129c6d[_0x5939cd(0x1d4)](_0x4fffd4))throw new Error(_0x5939cd(0x318));return{'username':_0x28adfe,'password':_0x4ad813,'hostname':_0x4fffd4,'port':_0x4e016f};}function isValidIPv4(_0xb2ee14){const _0x29291f=_0x50ca29,_0x441566=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0x441566[_0x29291f(0x1d4)](_0xb2ee14);}function subAddresses(_0x217034,_0x50b438,_0xf0a612,_0x1d0e58,_0x8a527b){const _0xb9c4b=_0x50ca29;addresses=addresses[_0xb9c4b(0x2ca)](_0x1d0e58),addresses=addresses[_0xb9c4b(0x2ca)](_0x8a527b);const _0x1b2e8c=[...new Set(addresses)],_0x4231a5=_0x1b2e8c[_0xb9c4b(0x1c8)](_0x5a46f3=>{const _0x9eade8=_0xb9c4b;let _0x3b2db1='-1',_0x2cc4cb=_0x5a46f3;const _0x205b32=_0x2cc4cb[_0x9eade8(0x231)](regex);if(!_0x205b32){if(_0x5a46f3['includes'](':')&&_0x5a46f3[_0x9eade8(0x175)]('#')){const _0xf8997f=_0x5a46f3['split'](':');_0x5a46f3=_0xf8997f[0x0];const _0x268017=_0xf8997f[0x1][_0x9eade8(0x1c2)]('#');_0x3b2db1=_0x268017[0x0],_0x2cc4cb=_0x268017[0x1];}else{if(_0x5a46f3[_0x9eade8(0x175)](':')){const _0x329da3=_0x5a46f3[_0x9eade8(0x1c2)](':');_0x5a46f3=_0x329da3[0x0],_0x3b2db1=_0x329da3[0x1];}else{if(_0x5a46f3[_0x9eade8(0x175)]('#')){const _0x82b04e=_0x5a46f3['split']('#');_0x5a46f3=_0x82b04e[0x0],_0x2cc4cb=_0x82b04e[0x1];}}}_0x2cc4cb[_0x9eade8(0x175)](':')&&(_0x2cc4cb=_0x2cc4cb[_0x9eade8(0x1c2)](':')[0x0]);}else _0x5a46f3=_0x205b32[0x1],_0x3b2db1=_0x205b32[0x2]||_0x3b2db1,_0x2cc4cb=_0x205b32[0x3]||_0x5a46f3;const _0x352d64=['2053',_0x9eade8(0x180),_0x9eade8(0x303),_0x9eade8(0x307),_0x9eade8(0x31c)];if(!isValidIPv4(_0x5a46f3)&&_0x3b2db1=='-1')for(let _0x57eae6 of _0x352d64){if(_0x5a46f3[_0x9eade8(0x175)](_0x57eae6)){_0x3b2db1=_0x57eae6;break;}}if(_0x3b2db1=='-1')_0x3b2db1='443';let _0x2c399a=_0x217034,_0x2e2bef=path,_0x4eb7cd='';const _0x102fcf=proxyIPPool['find'](_0x344be6=>_0x344be6[_0x9eade8(0x175)](_0x5a46f3));if(_0x102fcf)_0x2e2bef=_0x9eade8(0x2b8)+_0x102fcf;let _0x1b83dd=_0x50b438;if(!_0xf0a612[_0x9eade8(0x175)](_0x9eade8(0x302)))_0x1b83dd=encodeURIComponent(_0x50b438);const _0x165f20=_0x9eade8(0x14a),_0x4d57f5=atob(_0x165f20),_0x1877be=_0x4d57f5+_0x9eade8(0x150)+_0x1b83dd+'@'+_0x5a46f3+':'+_0x3b2db1+_0x9eade8(0x1e2)+_0x2c399a+_0x9eade8(0x2b9)+_0x2c399a+_0x9eade8(0x16e)+(encodeURIComponent(_0x2e2bef)+allowInsecure)+_0x9eade8(0x2ff)+encodeURIComponent('1,40-60,30-50,tlshello')+'#'+encodeURIComponent(_0x2cc4cb+_0x4eb7cd);return _0x1877be;})['join']('\x0a');let _0x182080=_0x4231a5;if(link[_0xb9c4b(0x289)]>0x0)_0x182080+='\x0a'+link[_0xb9c4b(0x164)]('\x0a');return btoa(_0x182080);}async function getAddressesapi(_0x3783c3){const _0x9e364e=_0x50ca29;if(!_0x3783c3||_0x3783c3[_0x9e364e(0x289)]===0x0)return[];let _0x32af43='';const _0x24053a=new AbortController(),_0x155804=setTimeout(()=>{_0x24053a['abort']();},0x7d0);try{const _0x43d138=await Promise[_0x9e364e(0x288)](_0x3783c3[_0x9e364e(0x1c8)](_0x2b80fe=>fetch(_0x2b80fe,{'method':'get','headers':{'Accept':_0x9e364e(0x19b),'User-Agent':atob(_0x9e364e(0x29f))},'signal':_0x24053a[_0x9e364e(0x188)]})[_0x9e364e(0x16b)](_0x138f3e=>_0x138f3e['ok']?_0x138f3e[_0x9e364e(0x1ee)]():Promise[_0x9e364e(0x19c)]())));for(const [_0x2c5f80,_0x34aa8f]of _0x43d138['entries']()){if(_0x34aa8f[_0x9e364e(0x21d)]==='fulfilled'){const _0x4325cd=await _0x34aa8f[_0x9e364e(0x20f)],_0x3f7381=_0x4325cd[_0x9e364e(0x1c2)](/\r?\n/);let _0x48b840='',_0x39f47c=_0x9e364e(0x224);if(_0x3f7381[0x0][_0x9e364e(0x1c2)](',')[_0x9e364e(0x289)]>0x3){const _0x2d5321=_0x3783c3[_0x2c5f80][_0x9e364e(0x231)](/id=([^&]*)/);if(_0x2d5321)_0x48b840=_0x2d5321[0x1];const _0x22b487=_0x3783c3[_0x2c5f80][_0x9e364e(0x231)](/port=([^&]*)/);if(_0x22b487)_0x39f47c=_0x22b487[0x1];for(let _0x323e95=0x1;_0x323e95<_0x3f7381[_0x9e364e(0x289)];_0x323e95++){const _0x18b5a5=_0x3f7381[_0x323e95][_0x9e364e(0x1c2)](',')[0x0];if(_0x18b5a5){_0x32af43+=_0x18b5a5+':'+_0x39f47c+(_0x48b840?'#'+_0x48b840:'')+'\x0a';if(_0x3783c3[_0x2c5f80][_0x9e364e(0x175)](_0x9e364e(0x28d)))proxyIPPool[_0x9e364e(0x202)](_0x18b5a5+':'+_0x39f47c);}}}else _0x3783c3[_0x2c5f80]['includes']('proxyip=true')&&(proxyIPPool=proxyIPPool[_0x9e364e(0x2ca)]((await ADD(_0x4325cd))['map'](_0x40c30e=>{const _0x30f42d=_0x9e364e,_0x219d21=_0x40c30e['split']('#')[0x0]||_0x40c30e;if(_0x219d21[_0x30f42d(0x175)](':')){const _0x4df838=_0x219d21[_0x30f42d(0x1c2)](':')[0x1];if(!httpsPorts['includes'](_0x4df838))return _0x219d21;}else return _0x219d21+_0x30f42d(0x310);return null;})[_0x9e364e(0x28f)](Boolean))),_0x32af43+=_0x4325cd+'\x0a';}}}catch(_0x4a7288){console['error'](_0x4a7288);}finally{clearTimeout(_0x155804);}const _0x2369b7=await ADD(_0x32af43);return _0x2369b7;}async function getAddressescsv(_0x4d8407){const _0x1841a9=_0x50ca29;if(!addressescsv||addressescsv[_0x1841a9(0x289)]===0x0)return[];let _0x5fc3a4=[];for(const _0x540f37 of addressescsv){try{const _0x4bb2da=await fetch(_0x540f37);if(!_0x4bb2da['ok']){console[_0x1841a9(0x2ee)]('获取CSV地址时出错:',_0x4bb2da['status'],_0x4bb2da['statusText']);continue;}const _0x2549ff=await _0x4bb2da[_0x1841a9(0x1ee)]();let _0x59bff5;_0x2549ff['includes']('\x0d\x0a')?_0x59bff5=_0x2549ff[_0x1841a9(0x1c2)]('\x0d\x0a'):_0x59bff5=_0x2549ff[_0x1841a9(0x1c2)]('\x0a');const _0x33dc59=_0x59bff5[0x0]['split'](','),_0x54d2f3=_0x33dc59[_0x1841a9(0x2d0)]('TLS'),_0x6046e7=0x0,_0xdbc2d7=0x1,_0x4180ad=_0x54d2f3+remarkIndex;if(_0x54d2f3===-0x1){console[_0x1841a9(0x2ee)](_0x1841a9(0x249));continue;}for(let _0x143352=0x1;_0x143352<_0x59bff5[_0x1841a9(0x289)];_0x143352++){const _0x3199f2=_0x59bff5[_0x143352][_0x1841a9(0x1c2)](','),_0x437047=_0x3199f2[_0x1841a9(0x289)]-0x1;if(_0x3199f2[_0x54d2f3][_0x1841a9(0x26c)]()===_0x4d8407&&parseFloat(_0x3199f2[_0x437047])>DLS){const _0x28a0ba=_0x3199f2[_0x6046e7],_0x2bf384=_0x3199f2[_0xdbc2d7],_0xf30c1b=_0x3199f2[_0x4180ad],_0xd0366e=_0x28a0ba+':'+_0x2bf384+'#'+_0xf30c1b;_0x5fc3a4['push'](_0xd0366e),_0x540f37[_0x1841a9(0x175)](_0x1841a9(0x28d))&&_0x3199f2[_0x54d2f3][_0x1841a9(0x26c)]()=='true'&&!httpsPorts[_0x1841a9(0x175)](_0x2bf384)&&proxyIPPool[_0x1841a9(0x202)](_0x28a0ba+':'+_0x2bf384);}}}catch(_0x24f000){console[_0x1841a9(0x2ee)](_0x1841a9(0x2d2),_0x24f000);continue;}}return _0x5fc3a4;}function surge(_0xa46565,_0x334211){const _0x2a4f78=_0x50ca29;let _0x121507;_0xa46565[_0x2a4f78(0x175)]('\x0d\x0a')?_0x121507=_0xa46565[_0x2a4f78(0x1c2)]('\x0d\x0a'):_0x121507=_0xa46565[_0x2a4f78(0x1c2)]('\x0a');let _0x1ca197='';for(let _0x11aa2c of _0x121507){if(_0x11aa2c['includes'](atob(_0x2a4f78(0x1d7)))){const _0x1180c2=_0x11aa2c['split']('sni=')[0x1][_0x2a4f78(0x1c2)](',')[0x0],_0x980da2=_0x2a4f78(0x261),_0x2ac867=_0x2a4f78(0x1c3)+path+_0x2a4f78(0x25c)+_0x1180c2+_0x2a4f78(0x232);_0x1ca197+=_0x11aa2c['replace'](new RegExp(_0x980da2,'g'),_0x2ac867)[_0x2a4f78(0x2d5)]('[','')[_0x2a4f78(0x2d5)](']','')+'\x0a';}else _0x1ca197+=_0x11aa2c+'\x0a';}return _0x1ca197=_0x2a4f78(0x32b)+_0x334211+_0x2a4f78(0x1bd)+_0x1ca197[_0x2a4f78(0x259)](_0x1ca197[_0x2a4f78(0x2d0)]('\x0a')),_0x1ca197;}function _0xdc32(_0x11942a,_0x5a40bc){const _0xd3d0b7=_0xd3d0();return _0xdc32=function(_0xdc3260,_0x78b926){_0xdc3260=_0xdc3260-0x13d;let _0x1b55fc=_0xd3d0b7[_0xdc3260];return _0x1b55fc;},_0xdc32(_0x11942a,_0x5a40bc);}/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 * 
 * @version 0.11.0 (modified by cmliu)
 * @description 本代码基于 js-sha256 项目改编，添加了 SHA-224 哈希算法的实现。
 * @author Chen, Yi-Cyuan [emn178@gmail.com], modified by cmliu
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 * 
 * @modifications 重写并实现了 sha224 函数，引用请注明出处。修改日期：2024-12-04，Github：cmliu
 */
function sha224(_0x52c52b){const _0x2e922f=_0x50ca29,_0x290afe=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function _0x2ee065(_0x40bbbb){return unescape(encodeURIComponent(_0x40bbbb));}function _0x48ffb7(_0x5139d7){const _0x134d75=_0xdc32;let _0x4c6387='';for(let _0x130a22=0x0;_0x130a22<_0x5139d7[_0x134d75(0x289)];_0x130a22++){_0x4c6387+=(_0x5139d7[_0x130a22]>>>0x4&0xf)[_0x134d75(0x2df)](0x10),_0x4c6387+=(_0x5139d7[_0x130a22]&0xf)[_0x134d75(0x2df)](0x10);}return _0x4c6387;}function _0xbd30ec(_0x1d218f){const _0x3d6bc3=_0xdc32;let _0x59ffbb=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4];const _0x53c50e=_0x1d218f[_0x3d6bc3(0x289)]*0x8;_0x1d218f+=String[_0x3d6bc3(0x291)](0x80);while(_0x1d218f[_0x3d6bc3(0x289)]*0x8%0x200!==0x1c0){_0x1d218f+=String[_0x3d6bc3(0x291)](0x0);}const _0x2a4158=Math[_0x3d6bc3(0x22a)](_0x53c50e/0x100000000),_0xdd3a5=_0x53c50e&0xffffffff;_0x1d218f+=String[_0x3d6bc3(0x291)](_0x2a4158>>>0x18&0xff,_0x2a4158>>>0x10&0xff,_0x2a4158>>>0x8&0xff,_0x2a4158&0xff,_0xdd3a5>>>0x18&0xff,_0xdd3a5>>>0x10&0xff,_0xdd3a5>>>0x8&0xff,_0xdd3a5&0xff);const _0x1671df=[];for(let _0x55f2f2=0x0;_0x55f2f2<_0x1d218f[_0x3d6bc3(0x289)];_0x55f2f2+=0x4){_0x1671df[_0x3d6bc3(0x202)](_0x1d218f[_0x3d6bc3(0x279)](_0x55f2f2)<<0x18|_0x1d218f[_0x3d6bc3(0x279)](_0x55f2f2+0x1)<<0x10|_0x1d218f[_0x3d6bc3(0x279)](_0x55f2f2+0x2)<<0x8|_0x1d218f[_0x3d6bc3(0x279)](_0x55f2f2+0x3));}for(let _0x5a2df9=0x0;_0x5a2df9<_0x1671df[_0x3d6bc3(0x289)];_0x5a2df9+=0x10){const _0x2ab19c=new Array(0x40)[_0x3d6bc3(0x205)](0x0);for(let _0x580bd0=0x0;_0x580bd0<0x10;_0x580bd0++){_0x2ab19c[_0x580bd0]=_0x1671df[_0x5a2df9+_0x580bd0];}for(let _0xdbbb82=0x10;_0xdbbb82<0x40;_0xdbbb82++){const _0x5bef57=_0x53d69e(_0x2ab19c[_0xdbbb82-0xf],0x7)^_0x53d69e(_0x2ab19c[_0xdbbb82-0xf],0x12)^_0x2ab19c[_0xdbbb82-0xf]>>>0x3,_0x416eda=_0x53d69e(_0x2ab19c[_0xdbbb82-0x2],0x11)^_0x53d69e(_0x2ab19c[_0xdbbb82-0x2],0x13)^_0x2ab19c[_0xdbbb82-0x2]>>>0xa;_0x2ab19c[_0xdbbb82]=_0x2ab19c[_0xdbbb82-0x10]+_0x5bef57+_0x2ab19c[_0xdbbb82-0x7]+_0x416eda>>>0x0;}let [_0x5f0c9d,_0xc009bc,_0x5eb6f9,_0x172130,_0x45b902,_0x14ba61,_0x35dfe3,_0x409fab]=_0x59ffbb;for(let _0x5dfd03=0x0;_0x5dfd03<0x40;_0x5dfd03++){const _0x19cbd6=_0x53d69e(_0x45b902,0x6)^_0x53d69e(_0x45b902,0xb)^_0x53d69e(_0x45b902,0x19),_0x424fcc=_0x45b902&_0x14ba61^~_0x45b902&_0x35dfe3,_0x30120b=_0x409fab+_0x19cbd6+_0x424fcc+_0x290afe[_0x5dfd03]+_0x2ab19c[_0x5dfd03]>>>0x0,_0x5781b0=_0x53d69e(_0x5f0c9d,0x2)^_0x53d69e(_0x5f0c9d,0xd)^_0x53d69e(_0x5f0c9d,0x16),_0xcb897e=_0x5f0c9d&_0xc009bc^_0x5f0c9d&_0x5eb6f9^_0xc009bc&_0x5eb6f9,_0x35a9eb=_0x5781b0+_0xcb897e>>>0x0;_0x409fab=_0x35dfe3,_0x35dfe3=_0x14ba61,_0x14ba61=_0x45b902,_0x45b902=_0x172130+_0x30120b>>>0x0,_0x172130=_0x5eb6f9,_0x5eb6f9=_0xc009bc,_0xc009bc=_0x5f0c9d,_0x5f0c9d=_0x30120b+_0x35a9eb>>>0x0;}_0x59ffbb[0x0]=_0x59ffbb[0x0]+_0x5f0c9d>>>0x0,_0x59ffbb[0x1]=_0x59ffbb[0x1]+_0xc009bc>>>0x0,_0x59ffbb[0x2]=_0x59ffbb[0x2]+_0x5eb6f9>>>0x0,_0x59ffbb[0x3]=_0x59ffbb[0x3]+_0x172130>>>0x0,_0x59ffbb[0x4]=_0x59ffbb[0x4]+_0x45b902>>>0x0,_0x59ffbb[0x5]=_0x59ffbb[0x5]+_0x14ba61>>>0x0,_0x59ffbb[0x6]=_0x59ffbb[0x6]+_0x35dfe3>>>0x0,_0x59ffbb[0x7]=_0x59ffbb[0x7]+_0x409fab>>>0x0;}return _0x59ffbb[_0x3d6bc3(0x290)](0x0,0x7);}function _0x53d69e(_0xab30b9,_0x4a3bdb){return(_0xab30b9>>>_0x4a3bdb|_0xab30b9<<0x20-_0x4a3bdb)>>>0x0;}const _0x554984=_0x2ee065(_0x52c52b),_0xea4dee=_0xbd30ec(_0x554984);return _0x48ffb7(_0xea4dee[_0x2e922f(0x2c5)](_0x329367=>[_0x329367>>>0x18&0xff,_0x329367>>>0x10&0xff,_0x329367>>>0x8&0xff,_0x329367&0xff]));}async function 迁移地址列表(_0x39295d,_0x43228f=_0x50ca29(0x1b1)){const _0x4d49fa=_0x50ca29,_0x2db35d=await _0x39295d['KV'][_0x4d49fa(0x267)]('/'+_0x43228f),_0x8c4926=await _0x39295d['KV']['get'](_0x43228f);if(_0x2db35d&&!_0x8c4926)return await _0x39295d['KV'][_0x4d49fa(0x2ce)](_0x43228f,_0x2db35d),await _0x39295d['KV'][_0x4d49fa(0x24e)]('/'+_0x43228f),!![];return![];}async function KV(_0x85cce5,_0x266345,_0x274500=_0x50ca29(0x1b1)){const _0x493731=_0x50ca29;try{if(_0x85cce5[_0x493731(0x2e6)]===_0x493731(0x2cb)){if(!_0x266345['KV'])return new Response(_0x493731(0x18b),{'status':0x190});try{const _0x5b89c1=await _0x85cce5[_0x493731(0x1ee)]();return await _0x266345['KV'][_0x493731(0x2ce)](_0x274500,_0x5b89c1),new Response(_0x493731(0x1e8));}catch(_0x3d7053){return console[_0x493731(0x2ee)](_0x493731(0x193),_0x3d7053),new Response('保存失败:\x20'+_0x3d7053[_0x493731(0x2f6)],{'status':0x1f4});}}let _0x3f357f='',_0x3f4547=!!_0x266345['KV'];if(_0x3f4547)try{_0x3f357f=await _0x266345['KV'][_0x493731(0x267)](_0x274500)||'';}catch(_0x248d1d){console[_0x493731(0x2ee)](_0x493731(0x154),_0x248d1d),_0x3f357f=_0x493731(0x2a0)+_0x248d1d[_0x493731(0x2f6)];}const _0x79e18e=_0x493731(0x304)+FileName+_0x493731(0x1ff)+decodeURIComponent(atob(_0x493731(0x29c)))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22editor-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x3f4547?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<textarea\x20class=\x22editor\x22\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20placeholder=\x22'+decodeURIComponent(atob(_0x493731(0x2f0)))+_0x493731(0x258)+_0x3f357f+_0x493731(0x16c)+cmad+_0x493731(0x23d):_0x493731(0x165))+_0x493731(0x27e);return new Response(_0x79e18e,{'headers':{'Content-Type':'text/html;charset=utf-8'}});}catch(_0x35e20a){return console[_0x493731(0x2ee)]('处理请求时发生错误:',_0x35e20a),new Response(_0x493731(0x16a)+_0x35e20a['message'],{'status':0x1f4,'headers':{'Content-Type':_0x493731(0x1f6)}});}}async function resolveToIPv6(_0x588b45){const _0x3ec7c3=_0x50ca29,_0x11ae85=atob(_0x3ec7c3(0x309));if(!DNS64Server)try{const _0x5f177b=await fetch(atob(_0x3ec7c3(0x1cd)),{'headers':{'Accept':_0x3ec7c3(0x1e7)}});if(!_0x5f177b['ok'])return _0x11ae85;const _0x1fc71a=await _0x5f177b[_0x3ec7c3(0x2b2)](),_0x4da74f=(_0x1fc71a[_0x3ec7c3(0x20b)]||[])['filter'](_0x2e3ef5=>_0x2e3ef5[_0x3ec7c3(0x2bf)]===0x10)[_0x3ec7c3(0x1c8)](_0x1fbc00=>_0x1fbc00[_0x3ec7c3(0x168)]);if(_0x4da74f[_0x3ec7c3(0x289)]===0x0)return _0x11ae85;let _0x2400b2=_0x4da74f[0x0];if(_0x2400b2[_0x3ec7c3(0x203)]('\x22')&&_0x2400b2[_0x3ec7c3(0x17a)]('\x22'))_0x2400b2=_0x2400b2['slice'](0x1,-0x1);const _0x2fee6=_0x2400b2['replace'](/\\010/g,'\x0a')['split']('\x0a')[_0x3ec7c3(0x28f)](_0x49e574=>_0x49e574['trim']());if(_0x2fee6[_0x3ec7c3(0x289)]===0x0)return _0x11ae85;DNS64Server=_0x2fee6[Math[_0x3ec7c3(0x22a)](Math[_0x3ec7c3(0x281)]()*_0x2fee6['length'])];}catch(_0x405e6c){return console[_0x3ec7c3(0x2ee)](_0x3ec7c3(0x2b1),_0x405e6c),_0x11ae85;}function _0x344961(_0x1baee1){const _0xa0da96=_0x3ec7c3,_0xb067a6=_0x1baee1['split']('.');return _0xb067a6[_0xa0da96(0x289)]===0x4&&_0xb067a6[_0xa0da96(0x1ef)](_0xc008a3=>{const _0x1abc9c=parseInt(_0xc008a3,0xa);return _0x1abc9c>=0x0&&_0x1abc9c<=0xff&&_0xc008a3===_0x1abc9c['toString']();});}function _0x558973(_0x42fdf1){const _0x28cdac=_0x3ec7c3;return _0x42fdf1[_0x28cdac(0x175)](':')&&/^[0-9a-fA-F:]+$/[_0x28cdac(0x1d4)](_0x42fdf1);}async function _0x54a847(_0xc04e1d){const _0x446e51=_0x3ec7c3,_0x29c70f='https://1.1.1.1/dns-query?name='+_0xc04e1d+_0x446e51(0x2e0),_0x106ba7=await fetch(_0x29c70f,{'headers':{'Accept':'application/dns-json'}});if(!_0x106ba7['ok'])throw new Error(_0x446e51(0x14c));const _0x295d25=await _0x106ba7[_0x446e51(0x2b2)](),_0x1680f5=(_0x295d25[_0x446e51(0x20b)]||[])['filter'](_0x384f25=>_0x384f25[_0x446e51(0x2bf)]===0x1)[_0x446e51(0x1c8)](_0x958c32=>_0x958c32['data']);if(_0x1680f5['length']===0x0)throw new Error('未找到IPv4地址');return _0x1680f5[Math['floor'](Math[_0x446e51(0x281)]()*_0x1680f5[_0x446e51(0x289)])];}async function _0x5bbf01(_0x5ee1d0){const _0x475085=_0x3ec7c3,_0x479c75=connect({'hostname':_0x558973(DNS64Server)?'['+DNS64Server+']':DNS64Server,'port':0x35}),_0x53a98d=_0x479c75[_0x475085(0x306)][_0x475085(0x31e)](),_0x24867d=_0x479c75[_0x475085(0x200)]['getReader']();try{const _0x2eccb0=_0x57a0f3(_0x5ee1d0),_0x1e9f39=new Uint8Array(_0x2eccb0['length']+0x2);_0x1e9f39[0x0]=_0x2eccb0[_0x475085(0x289)]>>0x8,_0x1e9f39[0x1]=_0x2eccb0[_0x475085(0x289)]&0xff,_0x1e9f39[_0x475085(0x22f)](_0x2eccb0,0x2),await _0x53a98d[_0x475085(0x147)](_0x1e9f39);const _0x2eaa22=await _0x492bca(_0x24867d),_0x6772d5=_0x1a7be3(_0x2eaa22);return _0x6772d5['length']>0x0?_0x6772d5[0x0]:_0x475085(0x1ea);}finally{await _0x53a98d['close'](),await _0x24867d['cancel']();}}function _0x57a0f3(_0x4504ec){const _0x55b25e=_0x3ec7c3,_0x346dee=new ArrayBuffer(0x200),_0x39af5b=new DataView(_0x346dee);let _0x2be3c6=0x0;_0x39af5b[_0x55b25e(0x283)](_0x2be3c6,Math['floor'](Math[_0x55b25e(0x281)]()*0x10000)),_0x2be3c6+=0x2,_0x39af5b['setUint16'](_0x2be3c6,0x100),_0x2be3c6+=0x2,_0x39af5b[_0x55b25e(0x283)](_0x2be3c6,0x1),_0x2be3c6+=0x2,_0x39af5b['setUint16'](_0x2be3c6,0x0),_0x2be3c6+=0x6;for(const _0x5e00dc of _0x4504ec['split']('.')){_0x39af5b[_0x55b25e(0x155)](_0x2be3c6++,_0x5e00dc[_0x55b25e(0x289)]);for(let _0x592842=0x0;_0x592842<_0x5e00dc[_0x55b25e(0x289)];_0x592842++){_0x39af5b[_0x55b25e(0x155)](_0x2be3c6++,_0x5e00dc[_0x55b25e(0x279)](_0x592842));}}return _0x39af5b[_0x55b25e(0x155)](_0x2be3c6++,0x0),_0x39af5b['setUint16'](_0x2be3c6,0x1c),_0x2be3c6+=0x2,_0x39af5b[_0x55b25e(0x283)](_0x2be3c6,0x1),_0x2be3c6+=0x2,new Uint8Array(_0x346dee,0x0,_0x2be3c6);}async function _0x492bca(_0x515aca){const _0x5ec72c=_0x3ec7c3,_0xe2dc10=[];let _0x4e4088=0x0,_0x34c659=null;while(!![]){const {value:_0x38aedf,done:_0x356e27}=await _0x515aca[_0x5ec72c(0x2b4)]();if(_0x356e27)break;_0xe2dc10[_0x5ec72c(0x202)](_0x38aedf),_0x4e4088+=_0x38aedf[_0x5ec72c(0x289)];_0x34c659===null&&_0x4e4088>=0x2&&(_0x34c659=_0xe2dc10[0x0][0x0]<<0x8|_0xe2dc10[0x0][0x1]);if(_0x34c659!==null&&_0x4e4088>=_0x34c659+0x2)break;}const _0x4b160b=new Uint8Array(_0x4e4088);let _0x1f68c8=0x0;for(const _0x466c4c of _0xe2dc10){_0x4b160b[_0x5ec72c(0x22f)](_0x466c4c,_0x1f68c8),_0x1f68c8+=_0x466c4c[_0x5ec72c(0x289)];}return _0x4b160b['slice'](0x2);}function _0x1a7be3(_0x43c1dd){const _0x4e9a3e=_0x3ec7c3,_0x54826e=new DataView(_0x43c1dd[_0x4e9a3e(0x2c1)]);let _0x128b62=0xc;while(_0x54826e[_0x4e9a3e(0x238)](_0x128b62)!==0x0){_0x128b62+=_0x54826e[_0x4e9a3e(0x238)](_0x128b62)+0x1;}_0x128b62+=0x5;const _0x1232a2=[],_0x59a364=_0x54826e[_0x4e9a3e(0x24a)](0x6);for(let _0x23464e=0x0;_0x23464e<_0x59a364;_0x23464e++){if((_0x54826e['getUint8'](_0x128b62)&0xc0)===0xc0)_0x128b62+=0x2;else{while(_0x54826e['getUint8'](_0x128b62)!==0x0){_0x128b62+=_0x54826e['getUint8'](_0x128b62)+0x1;}_0x128b62++;}const _0x219d1e=_0x54826e[_0x4e9a3e(0x24a)](_0x128b62);_0x128b62+=0x2,_0x128b62+=0x6;const _0x4c6434=_0x54826e['getUint16'](_0x128b62);_0x128b62+=0x2;if(_0x219d1e===0x1c&&_0x4c6434===0x10){const _0x5e604c=[];for(let _0x364bbb=0x0;_0x364bbb<0x8;_0x364bbb++){_0x5e604c[_0x4e9a3e(0x202)](_0x54826e[_0x4e9a3e(0x24a)](_0x128b62+_0x364bbb*0x2)[_0x4e9a3e(0x2df)](0x10));}_0x1232a2[_0x4e9a3e(0x202)](_0x5e604c[_0x4e9a3e(0x164)](':'));}_0x128b62+=_0x4c6434;}return _0x1232a2;}function _0xed2e09(_0x21ba4e){const _0x8deb24=_0x3ec7c3,_0x26284a=_0x21ba4e[_0x8deb24(0x1c2)]('.');if(_0x26284a[_0x8deb24(0x289)]!==0x4)throw new Error(_0x8deb24(0x294));const _0x1e7945=_0x26284a[_0x8deb24(0x1c8)](_0x4ab906=>{const _0xb7ccc7=_0x8deb24,_0x5c4587=parseInt(_0x4ab906,0xa);if(_0x5c4587<0x0||_0x5c4587>0xff)throw new Error(_0xb7ccc7(0x314));return _0x5c4587[_0xb7ccc7(0x2df)](0x10)[_0xb7ccc7(0x241)](0x2,'0');});return DNS64Server[_0x8deb24(0x1c2)](_0x8deb24(0x266))[0x0]+_0x1e7945[0x0]+_0x1e7945[0x1]+':'+_0x1e7945[0x2]+_0x1e7945[0x3];}try{if(_0x558973(_0x588b45))return _0x588b45;const _0x277f46=_0x344961(_0x588b45)?_0x588b45:await _0x54a847(_0x588b45),_0x21a6a4=DNS64Server['endsWith'](_0x3ec7c3(0x266))?_0xed2e09(_0x277f46):await _0x5bbf01(_0x277f46+atob(_0x3ec7c3(0x233)));return _0x558973(_0x21a6a4)?_0x21a6a4:_0x11ae85;}catch(_0x3a59ee){return console[_0x3ec7c3(0x2ee)](_0x3ec7c3(0x2b3),_0x3a59ee),_0x11ae85;}}async function bestIP(_0x330e9c,_0x181944,_0x5bb76f=_0x50ca29(0x1b1)){const _0x127d8b=_0x50ca29,_0x34ff06=_0x330e9c['cf']?.[_0x127d8b(0x1ca)]||'CN',_0x3d0a70=new URL(_0x330e9c['url']);async function _0x3e689e(){const _0x44a2e1=_0x127d8b;try{const _0x20b796=await fetch(atob(_0x44a2e1(0x1c7)),{'headers':{'Accept':_0x44a2e1(0x1e7)}});if(_0x20b796['ok']){const _0x316ed4=await _0x20b796[_0x44a2e1(0x2b2)]();if(_0x316ed4[_0x44a2e1(0x242)]===0x0&&_0x316ed4[_0x44a2e1(0x20b)]&&_0x316ed4[_0x44a2e1(0x20b)][_0x44a2e1(0x289)]>0x0){const _0x52034b=_0x316ed4['Answer'][0x0][_0x44a2e1(0x168)],_0x233efd=_0x52034b[_0x44a2e1(0x2d5)](/^"(.*)"$/,'$1');return console[_0x44a2e1(0x276)](_0x44a2e1(0x1a8)+_0x233efd),_0x233efd;}}return console[_0x44a2e1(0x1e1)]('DoH解析失败，使用默认域名'),atob(_0x44a2e1(0x243));}catch(_0x565aa9){return console[_0x44a2e1(0x2ee)](_0x44a2e1(0x2ac),_0x565aa9),atob(_0x44a2e1(0x199));}}const _0x46ce78=await _0x3e689e();async function _0x4a1e63(_0x1cc5c8='official',_0x5d777d=_0x127d8b(0x224)){const _0x3150f2=_0x127d8b;try{let _0x548137;if(_0x1cc5c8==='as13335')_0x548137=await fetch(_0x3150f2(0x298));else{if(_0x1cc5c8===_0x3150f2(0x239))_0x548137=await fetch(_0x3150f2(0x21f));else{if(_0x1cc5c8===_0x3150f2(0x236))_0x548137=await fetch(_0x3150f2(0x30f));else{if(_0x1cc5c8===_0x3150f2(0x1b7))_0x548137=await fetch('https://raw.githubusercontent.com/ipverse/asn-ip/master/as/35916/ipv4-aggregated.txt');else{if(_0x1cc5c8===_0x3150f2(0x2a1))_0x548137=await fetch('https://raw.githubusercontent.com/ipverse/asn-ip/master/as/199524/ipv4-aggregated.txt');else{if(_0x1cc5c8==='cm')_0x548137=await fetch('https://raw.githubusercontent.com/cmliu/cmliu/main/CF-CIDR.txt');else{if(_0x1cc5c8===_0x3150f2(0x21b)){_0x548137=await fetch(_0x3150f2(0x17c));const _0x27c819=_0x548137['ok']?await _0x548137['text']():'',_0x53a05b=_0x27c819['split']('\x0a')['map'](_0x38cd28=>_0x38cd28[_0x3150f2(0x2ea)]())[_0x3150f2(0x28f)](_0x3aeb3f=>_0x3aeb3f&&!_0x3aeb3f[_0x3150f2(0x203)]('#')),_0x132eb9=[];for(const _0x5b29bc of _0x53a05b){const _0x1dc1b3=_0x23f865(_0x5b29bc,_0x5d777d);_0x1dc1b3&&_0x132eb9[_0x3150f2(0x202)](_0x1dc1b3);}console[_0x3150f2(0x276)](_0x3150f2(0x213)+_0x5d777d+_0x3150f2(0x1d2)+_0x132eb9[_0x3150f2(0x289)]+'个有效IP');if(_0x132eb9[_0x3150f2(0x289)]>0x200){const _0xca910=[..._0x132eb9][_0x3150f2(0x14d)](()=>0.5-Math[_0x3150f2(0x281)]()),_0x5f4f25=_0xca910[_0x3150f2(0x290)](0x0,0x200);return console[_0x3150f2(0x276)](_0x3150f2(0x2c0)+_0x5f4f25[_0x3150f2(0x289)]+'个IP'),_0x5f4f25;}else return _0x132eb9;}else _0x548137=await fetch(_0x3150f2(0x322));}}}}}}const _0x14ac66=_0x548137['ok']?await _0x548137[_0x3150f2(0x1ee)]():_0x3150f2(0x2ef),_0x3dd53d=_0x14ac66['split']('\x0a')[_0x3150f2(0x28f)](_0x588915=>_0x588915[_0x3150f2(0x2ea)]()&&!_0x588915[_0x3150f2(0x203)]('#')),_0x188806=new Set(),_0x443257=0x200;let _0x261da3=0x1;while(_0x188806['size']<_0x443257){console['log']('第'+_0x261da3+_0x3150f2(0x17e)+_0x188806['size']+'个');for(const _0x503251 of _0x3dd53d){if(_0x188806[_0x3150f2(0x286)]>=_0x443257)break;const _0x3476b0=_0x2f56c5(_0x503251['trim'](),_0x261da3);_0x3476b0[_0x3150f2(0x19f)](_0x54b2f6=>_0x188806[_0x3150f2(0x30e)](_0x54b2f6)),console[_0x3150f2(0x276)]('CIDR\x20'+_0x503251+'\x20第'+_0x261da3+_0x3150f2(0x2cf)+_0x3476b0[_0x3150f2(0x289)]+_0x3150f2(0x14e)+_0x188806['size']+'个');}_0x261da3++;if(_0x261da3>0x64){console[_0x3150f2(0x1e1)](_0x3150f2(0x1a6));break;}}return console['log']('最终生成'+_0x188806[_0x3150f2(0x286)]+_0x3150f2(0x253)),Array[_0x3150f2(0x308)](_0x188806)[_0x3150f2(0x290)](0x0,_0x443257);}catch(_0x55ea69){return console['error']('获取CF\x20IPs失败:',_0x55ea69),[];}}function _0x23f865(_0x43036f,_0x3bdce4){const _0x53517c=_0x127d8b;try{_0x43036f=_0x43036f[_0x53517c(0x2ea)]();if(!_0x43036f)return null;let _0x2d8109='',_0x477d3e='',_0x44a12d='';if(_0x43036f[_0x53517c(0x175)]('#')){const _0x34eb12=_0x43036f[_0x53517c(0x1c2)]('#'),_0x207f34=_0x34eb12[0x0][_0x53517c(0x2ea)]();_0x44a12d=_0x34eb12[0x1][_0x53517c(0x2ea)]();if(_0x207f34[_0x53517c(0x175)](':')){const _0x2e5b6c=_0x207f34['split'](':');if(_0x2e5b6c[_0x53517c(0x289)]===0x2)_0x2d8109=_0x2e5b6c[0x0][_0x53517c(0x2ea)](),_0x477d3e=_0x2e5b6c[0x1][_0x53517c(0x2ea)]();else return console['warn'](_0x53517c(0x18f)+_0x43036f),null;}else _0x2d8109=_0x207f34,_0x477d3e=_0x53517c(0x224);}else{if(_0x43036f[_0x53517c(0x175)](':')){const _0x6cdde9=_0x43036f[_0x53517c(0x1c2)](':');if(_0x6cdde9[_0x53517c(0x289)]===0x2)_0x2d8109=_0x6cdde9[0x0][_0x53517c(0x2ea)](),_0x477d3e=_0x6cdde9[0x1][_0x53517c(0x2ea)]();else return console['warn'](_0x53517c(0x18f)+_0x43036f),null;}else _0x2d8109=_0x43036f,_0x477d3e=_0x53517c(0x224);}if(!_0x5ac4fa(_0x2d8109))return console[_0x53517c(0x1e1)](_0x53517c(0x2bb)+_0x2d8109+_0x53517c(0x2f5)+_0x43036f+')'),null;const _0x3b3169=parseInt(_0x477d3e);if(isNaN(_0x3b3169)||_0x3b3169<0x1||_0x3b3169>0xffff)return console[_0x53517c(0x1e1)](_0x53517c(0x20c)+_0x477d3e+_0x53517c(0x2f5)+_0x43036f+')'),null;if(_0x477d3e!==_0x3bdce4)return null;return _0x44a12d?_0x2d8109+':'+_0x477d3e+'#'+_0x44a12d:_0x2d8109+':'+_0x477d3e;}catch(_0x398c1c){return console['error'](_0x53517c(0x1c1)+_0x43036f,_0x398c1c),null;}}function _0x5ac4fa(_0x6055df){const _0x2d7f99=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,_0x3d2b92=_0x6055df['match'](_0x2d7f99);if(!_0x3d2b92)return![];for(let _0x1a3f92=0x1;_0x1a3f92<=0x4;_0x1a3f92++){const _0x19f1d8=parseInt(_0x3d2b92[_0x1a3f92]);if(_0x19f1d8<0x0||_0x19f1d8>0xff)return![];}return!![];}function _0x2f56c5(_0x15aacd,_0xbf7583=0x1){const _0x21ee79=_0x127d8b,[_0x5915cf,_0x11b6c2]=_0x15aacd['split']('/'),_0x54c0b6=parseInt(_0x11b6c2),_0x58d0d8=_0x50995e=>{const _0x29d2f2=_0xdc32;return _0x50995e[_0x29d2f2(0x1c2)]('.')[_0x29d2f2(0x182)]((_0x24574c,_0x2c2a30)=>(_0x24574c<<0x8)+parseInt(_0x2c2a30),0x0)>>>0x0;},_0x1d5b4c=_0x51cc07=>{const _0x4b8595=_0xdc32;return[_0x51cc07>>>0x18&0xff,_0x51cc07>>>0x10&0xff,_0x51cc07>>>0x8&0xff,_0x51cc07&0xff][_0x4b8595(0x164)]('.');},_0x497d47=_0x58d0d8(_0x5915cf),_0x14a1df=0x20-_0x54c0b6,_0x3dd30b=Math[_0x21ee79(0x28e)](0x2,_0x14a1df),_0x4d2c6a=_0x3dd30b-0x2,_0x32b12c=Math[_0x21ee79(0x194)](_0xbf7583,_0x4d2c6a),_0x4c82b5=new Set();if(_0x4d2c6a<=0x0)return[];let _0x3f9860=0x0;const _0x28eb4f=_0x32b12c*0xa;while(_0x4c82b5['size']<_0x32b12c&&_0x3f9860<_0x28eb4f){const _0x58b4c6=Math['floor'](Math[_0x21ee79(0x281)]()*_0x4d2c6a)+0x1,_0x3d5e96=_0x1d5b4c(_0x497d47+_0x58b4c6);_0x4c82b5['add'](_0x3d5e96),_0x3f9860++;}return Array[_0x21ee79(0x308)](_0x4c82b5);}if(_0x330e9c[_0x127d8b(0x2e6)]===_0x127d8b(0x2cb)){if(!_0x181944['KV'])return new Response(_0x127d8b(0x18b),{'status':0x190});try{const _0x2b753f=_0x330e9c['headers'][_0x127d8b(0x267)](_0x127d8b(0x1db));if(_0x2b753f&&_0x2b753f[_0x127d8b(0x175)]('application/json')){const _0x3cac46=await _0x330e9c['json'](),_0x26e3c7=_0x3d0a70[_0x127d8b(0x280)]['get'](_0x127d8b(0x247))||_0x127d8b(0x252);if(!_0x3cac46[_0x127d8b(0x217)]||!Array[_0x127d8b(0x312)](_0x3cac46[_0x127d8b(0x217)]))return new Response(JSON[_0x127d8b(0x2fc)]({'error':_0x127d8b(0x278)}),{'status':0x190,'headers':{'Content-Type':_0x127d8b(0x1d9)}});if(_0x26e3c7==='append'){const _0x2f3dc2=await _0x181944['KV']['get'](_0x5bb76f)||'',_0x17cdf9=_0x3cac46[_0x127d8b(0x217)]['join']('\x0a'),_0x535ffc=_0x2f3dc2?_0x2f3dc2[_0x127d8b(0x1c2)]('\x0a')[_0x127d8b(0x1c8)](_0x2b59ed=>_0x2b59ed['trim']())[_0x127d8b(0x28f)](_0x20a990=>_0x20a990):[],_0x19cf2d=_0x17cdf9[_0x127d8b(0x1c2)]('\x0a')['map'](_0x62d40d=>_0x62d40d[_0x127d8b(0x2ea)]())[_0x127d8b(0x28f)](_0x40675d=>_0x40675d),_0x2900a3=[..._0x535ffc,..._0x19cf2d],_0x16ab0b=[...new Set(_0x2900a3)],_0x3fac72=_0x16ab0b['join']('\x0a');if(_0x3fac72[_0x127d8b(0x289)]>0x18*0x400*0x400)return new Response(JSON[_0x127d8b(0x2fc)]({'error':_0x127d8b(0x2a4)+(_0x3fac72[_0x127d8b(0x289)]/0x400/0x400)[_0x127d8b(0x144)](0x2)+_0x127d8b(0x2ba)}),{'status':0x190,'headers':{'Content-Type':_0x127d8b(0x1d9)}});await _0x181944['KV'][_0x127d8b(0x2ce)](_0x5bb76f,_0x3fac72);const _0x31a044=_0x16ab0b[_0x127d8b(0x289)]-_0x535ffc['length'],_0x216446=_0x19cf2d['length']-_0x31a044;let _0x4f31f4=_0x127d8b(0x201)+_0x31a044+_0x127d8b(0x21e)+_0x535ffc[_0x127d8b(0x289)]+_0x127d8b(0x2a2)+_0x16ab0b[_0x127d8b(0x289)]+_0x127d8b(0x1a1);return _0x216446>0x0&&(_0x4f31f4+=_0x127d8b(0x1d8)+_0x216446+_0x127d8b(0x250)),new Response(JSON[_0x127d8b(0x2fc)]({'success':!![],'message':_0x4f31f4}),{'headers':{'Content-Type':'application/json'}});}else{const _0x16c12d=_0x3cac46['ips'][_0x127d8b(0x164)]('\x0a');if(_0x16c12d['length']>0x18*0x400*0x400)return new Response(JSON[_0x127d8b(0x2fc)]({'error':_0x127d8b(0x160)}),{'status':0x190,'headers':{'Content-Type':_0x127d8b(0x1d9)}});return await _0x181944['KV'][_0x127d8b(0x2ce)](_0x5bb76f,_0x16c12d),new Response(JSON[_0x127d8b(0x2fc)]({'success':!![],'message':'成功保存\x20'+_0x3cac46[_0x127d8b(0x217)][_0x127d8b(0x289)]+_0x127d8b(0x24d)}),{'headers':{'Content-Type':_0x127d8b(0x1d9)}});}}else{const _0x11efea=await _0x330e9c[_0x127d8b(0x1ee)]();return await _0x181944['KV'][_0x127d8b(0x2ce)](_0x5bb76f,_0x11efea),new Response('保存成功');}}catch(_0xffc426){return console['error'](_0x127d8b(0x229),_0xffc426),new Response(JSON[_0x127d8b(0x2fc)]({'error':_0x127d8b(0x2c3)+_0xffc426[_0x127d8b(0x2f6)]}),{'status':0x1f4,'headers':{'Content-Type':_0x127d8b(0x1d9)}});}}let _0x34566b='',_0x3349d2=!!_0x181944['KV'];if(_0x3349d2)try{_0x34566b=await _0x181944['KV']['get'](_0x5bb76f)||'';}catch(_0x5de449){console[_0x127d8b(0x2ee)]('读取KV时发生错误:',_0x5de449),_0x34566b=_0x127d8b(0x2a0)+_0x5de449['message'];}const _0x287bad=[],_0x45d3a1=_0x34ff06==='CN',_0x589730=_0x45d3a1?'':_0x127d8b(0x149),_0x291c8b=_0x45d3a1?''+_0x34ff06:_0x34ff06+'\x20⚠️',_0x16a535='\x0a\x20\x20\x20\x20<!DOCTYPE\x20html>\x0a\x20\x20\x20\x20<html>\x0a\x20\x20\x20\x20<head>\x0a\x20\x20\x20\x20<title>Cloudflare\x20IP优选</title>\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x2080%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.ip-list\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f5f5f5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20max-height:\x20400px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow-y:\x20auto;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.ip-item\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x202px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20monospace;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.stats\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e3f2fd;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f3e5f5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ce93d8;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#4a148c;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-info\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.proxy-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#d32f2f\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.1em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#ffebee;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#f44336;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2015px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#c62828;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x200\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#d32f2f;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.2em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warning-notice\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-controls\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f9f9f9;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.port-selector\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.port-selector\x20label\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.port-selector\x20select\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.button-group\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.test-button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#2196F3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-button:not(:disabled):hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#1976D2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.append-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#FF9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.append-button:disabled\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#cccccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20not-allowed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.append-button:not(:disabled):hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#F57C00;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.edit-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#9C27B0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.edit-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#7B1FA2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.back-button\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#607D8B;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px\x2032px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-decoration:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2016px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.back-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#455A64;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-warning\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fff3e0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#e65100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-warning\x20small\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message.success\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#d4edda;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#155724;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#c3e6cb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.message.error\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f8d7da;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#721c24;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#f5c6cb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.progress\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f0f0f0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.progress-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20width:\x200%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.good-latency\x20{\x20color:\x20#4CAF50;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.medium-latency\x20{\x20color:\x20#FF9800;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.bad-latency\x20{\x20color:\x20#f44336;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.show-more-section\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#f0f0f0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.show-more-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#607D8B;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x208px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20background-color\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.show-more-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#455A64;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.ip-display-info\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#666;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x205px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-tip\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e8f5e8;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#4CAF50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x206px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#2e7d32;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.save-tip\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#1b5e20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2020px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#fff3e0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x202px\x20solid\x20#ff9800;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#e65100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20h3\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x200\x2010px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#f57c00;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.1em;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x208px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20ul\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x2010px\x200\x2010px\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201.6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20li\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin:\x205px\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.warm-tips\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#e65100;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20bold;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-buttons\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-wrap:\x20wrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x208px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-btn\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x206px\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#e0e0e0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x2014px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20all\x200.3s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-btn:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#d5d5d5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20.region-btn.active\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#2196F3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20\x20\x20</head>\x0a\x20\x20\x20\x20<body>\x0a\x20\x20\x20\x20<h1>在线优选IP</h1>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+(!_0x45d3a1?'\x0a\x20\x20\x20\x20<div\x20class=\x22warning-notice\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<h3>🚨\x20代理检测警告</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>检测到您当前很可能处于代理/VPN环境中！</strong></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p>在代理状态下进行的IP优选测试结果将不准确，可能导致：</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>延迟数据失真，无法反映真实网络状况</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>优选出的IP在直连环境下表现不佳</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<li>测试结果对实际使用场景参考价值有限</li>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>建议操作：</strong>请关闭所有代理软件（VPN、科学上网工具等），确保处于直连网络环境后重新访问本页面。</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20':'')+_0x127d8b(0x187)+_0x589730+'\x22>'+_0x291c8b+_0x127d8b(0x2af)+_0x46ce78+_0x127d8b(0x2de)+_0x46ce78+_0x127d8b(0x198);if(_0x3d0a70[_0x127d8b(0x280)][_0x127d8b(0x267)]('loadIPs')){const _0x526b08=_0x3d0a70['searchParams']['get'](_0x127d8b(0x2f1)),_0xc555a7=_0x3d0a70[_0x127d8b(0x280)]['get'](_0x127d8b(0x295))||_0x127d8b(0x224),_0x22dce4=await _0x4a1e63(_0x526b08,_0xc555a7);return new Response(JSON['stringify']({'ips':_0x22dce4}),{'headers':{'Content-Type':_0x127d8b(0x1d9)}});}return new Response(_0x16a535,{'headers':{'Content-Type':'text/html;\x20charset=UTF-8'}});}async function getUsage(_0x1ee5cf,_0x47c825,_0x1ae27a,_0x282bb1,_0x9c4abc=0x186a0){const _0x537471=_0x50ca29;async function _0x5593c7(_0x4c1f00,_0x5614c8){const _0x52215d=_0xdc32;console[_0x52215d(0x276)](_0x52215d(0x1fc));const _0x2d5590=await fetch(_0x52215d(0x2ed),{'method':'GET','headers':{'Content-Type':'application/json','X-AUTH-EMAIL':_0x4c1f00,'X-AUTH-KEY':_0x5614c8}});if(!_0x2d5590['ok']){const _0x3095af=await _0x2d5590[_0x52215d(0x1ee)]();console[_0x52215d(0x2ee)]('获取账户信息失败:\x20'+_0x2d5590[_0x52215d(0x21d)]+'\x20'+_0x2d5590['statusText'],_0x3095af);throw new Error(_0x52215d(0x1fe)+_0x2d5590[_0x52215d(0x21d)]+'\x20'+_0x2d5590[_0x52215d(0x28b)]+_0x52215d(0x2fb)+_0x3095af);}const _0x470d1a=await _0x2d5590[_0x52215d(0x2b2)]();let _0x456ed2=0x0,_0x6badc=![];if(_0x470d1a?.[_0x52215d(0x1d0)]&&_0x470d1a[_0x52215d(0x1d0)][_0x52215d(0x289)]>0x1){console[_0x52215d(0x276)](_0x52215d(0x277)+_0x470d1a[_0x52215d(0x1d0)]['length']+_0x52215d(0x2e9));const _0x43a89a=_0x4c1f00['toLowerCase']();console[_0x52215d(0x276)]('邮箱:\x20'+_0x43a89a);for(let _0x48ca86=0x0;_0x48ca86<_0x470d1a[_0x52215d(0x1d0)][_0x52215d(0x289)];_0x48ca86++){const _0x499ed9=_0x470d1a[_0x52215d(0x1d0)][_0x48ca86]?.[_0x52215d(0x1ec)]?.[_0x52215d(0x195)]()||'';console['log'](_0x52215d(0x2f3)+_0x48ca86+':\x20'+_0x470d1a[_0x52215d(0x1d0)][_0x48ca86]?.[_0x52215d(0x1ec)]);if(_0x499ed9[_0x52215d(0x203)](_0x43a89a)){_0x456ed2=_0x48ca86,_0x6badc=!![],console[_0x52215d(0x276)]('✅\x20找到匹配账户，使用第\x20'+_0x48ca86+'\x20个账户');break;}}!_0x6badc&&console[_0x52215d(0x276)](_0x52215d(0x2d4));}else _0x470d1a?.[_0x52215d(0x1d0)]&&_0x470d1a['result'][_0x52215d(0x289)]===0x1&&(console[_0x52215d(0x276)]('只有一个账户，使用第\x200\x20个账户'),_0x6badc=!![]);const _0x5ea813=_0x470d1a?.[_0x52215d(0x1d0)]?.[_0x456ed2]?.[_0x52215d(0x1ec)],_0x5563db=_0x470d1a?.[_0x52215d(0x1d0)]?.[_0x456ed2]?.['id'];console['log'](_0x52215d(0x1ab)+_0x456ed2+_0x52215d(0x1f1)+_0x5ea813+_0x52215d(0x315)+_0x5563db);if(!_0x5563db)throw new Error(_0x52215d(0x1f5));return _0x5563db;}try{!_0x1ee5cf&&(console[_0x537471(0x276)](_0x537471(0x2c2)),_0x1ee5cf=await _0x5593c7(_0x47c825,_0x1ae27a));const _0x178be4=new Date(),_0x4c477c=_0x178be4[_0x537471(0x1e0)]();_0x178be4['setUTCHours'](0x0,0x0,0x0,0x0);const _0x1e46a5=_0x178be4[_0x537471(0x1e0)]();console[_0x537471(0x276)](_0x537471(0x184)+_0x1e46a5+_0x537471(0x1b3)+_0x4c477c);let _0x19fb9e={};_0x1ae27a&&(_0x19fb9e={'Content-Type':_0x537471(0x1d9),'X-AUTH-EMAIL':_0x47c825,'X-AUTH-KEY':_0x1ae27a});_0x282bb1&&(_0x19fb9e={'Content-Type':_0x537471(0x1d9),'Authorization':_0x537471(0x20d)+_0x282bb1});const _0x435d4d=await fetch('https://api.cloudflare.com/client/v4/graphql',{'method':_0x537471(0x2cb),'headers':_0x19fb9e,'body':JSON['stringify']({'query':_0x537471(0x235),'variables':{'accountId':_0x1ee5cf,'filter':{'datetime_geq':_0x1e46a5,'datetime_leq':_0x4c477c}}})});if(!_0x435d4d['ok']){const _0xeaa512=await _0x435d4d[_0x537471(0x1ee)]();return console[_0x537471(0x2ee)](_0x537471(0x1de)+_0x435d4d[_0x537471(0x21d)]+'\x20'+_0x435d4d[_0x537471(0x28b)],_0xeaa512),console[_0x537471(0x276)](_0x537471(0x167)),[_0x9c4abc,0x0,0x0,0x0];}const _0x20cb26=await _0x435d4d[_0x537471(0x2b2)]();if(_0x20cb26['errors']&&_0x20cb26[_0x537471(0x324)][_0x537471(0x289)]>0x0)return console[_0x537471(0x2ee)](_0x537471(0x176),_0x20cb26[_0x537471(0x324)][0x0][_0x537471(0x2f6)]),console['log'](_0x537471(0x167)),[_0x9c4abc,0x0,0x0,0x0];const _0xb966b8=_0x20cb26?.[_0x537471(0x168)]?.[_0x537471(0x23f)]?.[_0x537471(0x1a4)]?.[0x0];if(!_0xb966b8)return console[_0x537471(0x1e1)](_0x537471(0x1b9)),[_0x9c4abc,0x0,0x0,0x0];const _0x54c4de=_0xb966b8?.['pagesFunctionsInvocationsAdaptiveGroups']||[],_0x13ce8a=_0x54c4de[_0x537471(0x182)]((_0x389cc8,_0x2b566d)=>{const _0x17f60e=_0x537471;return _0x389cc8+(_0x2b566d?.['sum']?.[_0x17f60e(0x206)]||0x0);},0x0),_0x13aae9=_0xb966b8?.[_0x537471(0x15e)]||[],_0x275308=_0x13aae9[_0x537471(0x182)]((_0x499113,_0x57bf08)=>{const _0x1d5211=_0x537471;return _0x499113+(_0x57bf08?.['sum']?.[_0x1d5211(0x206)]||0x0);},0x0),_0x5c458f=_0x13ce8a+_0x275308;return console[_0x537471(0x276)](_0x537471(0x204)+_0x13ce8a+_0x537471(0x228)+_0x275308+_0x537471(0x2bc)+_0x5c458f),[_0x9c4abc,_0x13ce8a||0x0,_0x275308||0x0,_0x5c458f||0x0];}catch(_0x121701){return console[_0x537471(0x2ee)]('获取使用量时发生错误:',_0x121701[_0x537471(0x2f6)]),[_0x9c4abc,0x0,0x0,0x0];}}async function nginx(){const _0x9ee9='\x0a\x09<!DOCTYPE\x20html>\x0a\x09<html>\x0a\x09<head>\x0a\x09<title>Welcome\x20to\x20nginx!</title>\x0a\x09<style>\x0a\x09\x09body\x20{\x0a\x09\x09\x09width:\x2035em;\x0a\x09\x09\x09margin:\x200\x20auto;\x0a\x09\x09\x09font-family:\x20Tahoma,\x20Verdana,\x20Arial,\x20sans-serif;\x0a\x09\x09}\x0a\x09</style>\x0a\x09</head>\x0a\x09<body>\x0a\x09<h1>Welcome\x20to\x20nginx!</h1>\x0a\x09<p>If\x20you\x20see\x20this\x20page,\x20the\x20nginx\x20web\x20server\x20is\x20successfully\x20installed\x20and\x0a\x09working.\x20Further\x20configuration\x20is\x20required.</p>\x0a\x09\x0a\x09<p>For\x20online\x20documentation\x20and\x20support\x20please\x20refer\x20to\x0a\x09<a\x20href=\x22http://nginx.org/\x22>nginx.org</a>.<br/>\x0a\x09Commercial\x20support\x20is\x20available\x20at\x0a\x09<a\x20href=\x22http://nginx.com/\x22>nginx.com</a>.</p>\x0a\x09\x0a\x09<p><em>Thank\x20you\x20for\x20using\x20nginx.</em></p>\x0a\x09</body>\x0a\x09</html>\x0a\x09';return _0x9ee9;}
